import{S as Fe,i as Ue,s as Xe,l as v,e as ce,M as Ql,m as k,h as d,p as c,F as h,B as _e,N as st,b as C,a as U,r as V,n as x,c as X,u as j,o as Ar,O as Jn,v as ae,P as ge,Q as pe,q as le,R as Be,T as Nn,G as $n,H as er,I as tr,J as nr,f as G,t as Z,U as Ot,V as Jl,W as Dn,w as he,x as de,y as me,g as $e,d as et,X as zn,z as ye,Y as mt,Z as ct,_ as Yr,$ as xn,L as J,a0 as re,j as xr,K as Vn,a1 as bt,a2 as Fr,a3 as rr,D as pl}from"../../chunks/index-41093512.js";import{w as $l}from"../../chunks/Header.svelte_svelte_type_style_lang-cc101672.js";import{w as ie,d as Ae}from"../../chunks/index-fbcbb5e2.js";function Ur(t,e,n){const r=t.slice();return r[5]=e[n],r}function Xr(t){let e,n;return{c(){e=v("link"),this.h()},l(r){e=k(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){c(e,"rel","preload"),c(e,"href",n=t[5]),c(e,"as","font"),c(e,"type","font/woff2"),c(e,"crossorigin","")},m(r,l){C(r,e,l)},p(r,l){l&16&&n!==(n=r[5])&&c(e,"href",n)},d(r){r&&d(e)}}}function ea(t){let e,n,r,l,i,a,o,s,f,u,m,g,_,I,S,H,q,w,A,y,P,N,D,L,b,E;document.title=e=t[0];let M=t[4],T=[];for(let R=0;R<M.length;R+=1)T[R]=Xr(Ur(t,M,R));return{c(){n=v("meta"),r=v("meta"),l=v("meta"),i=v("meta"),a=v("meta"),o=v("meta"),s=v("meta"),f=v("meta"),u=v("meta"),m=v("meta"),_=v("meta"),I=v("meta"),S=v("meta"),H=v("meta"),q=v("meta"),w=v("meta"),A=v("meta"),y=v("meta"),P=v("meta"),D=v("meta"),L=v("link");for(let R=0;R<T.length;R+=1)T[R].c();E=ce(),this.h()},l(R){const O=Ql('[data-svelte="svelte-1htu80s"]',document.head);n=k(O,"META",{name:!0,content:!0}),r=k(O,"META",{name:!0,content:!0}),l=k(O,"META",{name:!0,content:!0}),i=k(O,"META",{property:!0,content:!0}),a=k(O,"META",{property:!0,content:!0}),o=k(O,"META",{property:!0,content:!0}),s=k(O,"META",{property:!0,content:!0}),f=k(O,"META",{property:!0,content:!0}),u=k(O,"META",{property:!0,content:!0}),m=k(O,"META",{property:!0,content:!0}),_=k(O,"META",{property:!0,content:!0}),I=k(O,"META",{property:!0,content:!0}),S=k(O,"META",{property:!0,content:!0}),H=k(O,"META",{name:!0,content:!0}),q=k(O,"META",{name:!0,content:!0}),w=k(O,"META",{name:!0,content:!0}),A=k(O,"META",{name:!0,content:!0}),y=k(O,"META",{name:!0,content:!0}),P=k(O,"META",{name:!0,content:!0}),D=k(O,"META",{name:!0,content:!0}),L=k(O,"LINK",{rel:!0,href:!0});for(let z=0;z<T.length;z+=1)T[z].l(O);E=ce(),O.forEach(d),this.h()},h(){c(n,"name","description"),c(n,"content",t[1]),c(r,"name","author"),c(r,"content","The Pudding"),c(l,"name","news_keywords"),c(l,"content",t[3]),c(i,"property","og:title"),c(i,"content",t[0]),c(a,"property","og:site_name"),c(a,"content","The Pudding"),c(o,"property","og:url"),c(o,"content",t[2]),c(s,"property","og:description"),c(s,"content",t[1]),c(f,"property","og:type"),c(f,"content","article"),c(u,"property","og:locale"),c(u,"content","en_US"),c(m,"property","og:image"),c(m,"content",g=t[2]+"/assets/social-facebook.jpg"),c(_,"property","og:image:type"),c(_,"content","image/jpeg"),c(I,"property","og:image:width"),c(I,"content","1200"),c(S,"property","og:image:height"),c(S,"content","600"),c(H,"name","twitter:card"),c(H,"content","summary_large_image"),c(q,"name","twitter:site"),c(q,"content","https://pudding.cool"),c(w,"name","twitter:creator"),c(w,"content","@puddingviz"),c(A,"name","twitter:title"),c(A,"content",t[0]),c(y,"name","twitter:description"),c(y,"content",t[1]),c(P,"name","twitter:image:src"),c(P,"content",N=t[2]+"/assets/social-twitter.jpg"),c(D,"name","robots"),c(D,"content","max-image-preview:large"),c(L,"rel","canonical"),c(L,"href",b=t[2]+"/")},m(R,O){h(document.head,n),h(document.head,r),h(document.head,l),h(document.head,i),h(document.head,a),h(document.head,o),h(document.head,s),h(document.head,f),h(document.head,u),h(document.head,m),h(document.head,_),h(document.head,I),h(document.head,S),h(document.head,H),h(document.head,q),h(document.head,w),h(document.head,A),h(document.head,y),h(document.head,P),h(document.head,D),h(document.head,L);for(let z=0;z<T.length;z+=1)T[z].m(document.head,null);h(document.head,E)},p(R,[O]){if(O&1&&e!==(e=R[0])&&(document.title=e),O&2&&c(n,"content",R[1]),O&8&&c(l,"content",R[3]),O&1&&c(i,"content",R[0]),O&4&&c(o,"content",R[2]),O&2&&c(s,"content",R[1]),O&4&&g!==(g=R[2]+"/assets/social-facebook.jpg")&&c(m,"content",g),O&1&&c(A,"content",R[0]),O&2&&c(y,"content",R[1]),O&4&&N!==(N=R[2]+"/assets/social-twitter.jpg")&&c(P,"content",N),O&4&&b!==(b=R[2]+"/")&&c(L,"href",b),O&16){M=R[4];let z;for(z=0;z<M.length;z+=1){const F=Ur(R,M,z);T[z]?T[z].p(F,O):(T[z]=Xr(F),T[z].c(),T[z].m(E.parentNode,E))}for(;z<T.length;z+=1)T[z].d(1);T.length=M.length}},i:_e,o:_e,d(R){d(n),d(r),d(l),d(i),d(a),d(o),d(s),d(f),d(u),d(m),d(_),d(I),d(S),d(H),d(q),d(w),d(A),d(y),d(P),d(D),d(L),st(T,R),d(E)}}}function ta(t,e,n){let{title:r="Yardsale"}=e,{description:l="Description TK"}=e,{url:i="https://pudding.cool"}=e,{keywords:a=""}=e,{preloadFont:o=[]}=e;return t.$$set=s=>{"title"in s&&n(0,r=s.title),"description"in s&&n(1,l=s.description),"url"in s&&n(2,i=s.url),"keywords"in s&&n(3,a=s.keywords),"preloadFont"in s&&n(4,o=s.preloadFont)},[r,l,i,a,o]}class na extends Fe{constructor(e){super(),Ue(this,e,ta,ea,Xe,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Zr(t,e,n){const r=t.slice();return r[5]=e[n],r}function Kr(t,e,n){const r=t.slice();return r[8]=e[n].hed,r[2]=e[n].url,r[9]=e[n].image,r}function Qr(t){let e,n,r,l,i,a,o=t[8]+"",s,f,u;return{c(){e=v("div"),n=v("a"),r=v("img"),i=U(),a=v("span"),s=V(o),u=U(),this.h()},l(m){e=k(m,"DIV",{class:!0});var g=x(e);n=k(g,"A",{href:!0,class:!0});var _=x(n);r=k(_,"IMG",{src:!0,alt:!0}),i=X(_),a=k(_,"SPAN",{class:!0});var I=x(a);s=j(I,o),I.forEach(d),_.forEach(d),u=X(g),g.forEach(d),this.h()},h(){Jn(r.src,l="https://pudding.cool/common/assets/thumbnails/640/"+t[9]+".jpg")||c(r,"src",l),c(r,"alt","thumbnail"),c(a,"class","svelte-1pc98p8"),c(n,"href",f="https://pudding.cool/"+t[2]),c(n,"class","svelte-1pc98p8"),c(e,"class","story svelte-1pc98p8")},m(m,g){C(m,e,g),h(e,n),h(n,r),h(n,i),h(n,a),h(a,s),h(e,u)},p(m,g){g&1&&!Jn(r.src,l="https://pudding.cool/common/assets/thumbnails/640/"+m[9]+".jpg")&&c(r,"src",l),g&1&&o!==(o=m[8]+"")&&ae(s,o),g&1&&f!==(f="https://pudding.cool/"+m[2])&&c(n,"href",f)},d(m){m&&d(e)}}}function Jr(t){let e,n,r,l=t[5].name.toUpperCase()+"",i,a;return{c(){e=v("li"),n=v("a"),r=v("span"),i=V(l),a=U(),this.h()},l(o){e=k(o,"LI",{class:!0});var s=x(e);n=k(s,"A",{href:!0,class:!0});var f=x(n);r=k(f,"SPAN",{class:!0});var u=x(r);i=j(u,l),u.forEach(d),f.forEach(d),a=X(s),s.forEach(d),this.h()},h(){c(r,"class","svelte-1pc98p8"),c(n,"href",t[5].url),c(n,"class","svelte-1pc98p8"),c(e,"class","svelte-1pc98p8")},m(o,s){C(o,e,s),h(e,n),h(n,r),h(r,i),h(e,a)},p:_e,d(o){o&&d(e)}}}function ra(t){let e,n,r,l,i,a,o,s,f,u,m,g,_,I=t[0],S=[];for(let w=0;w<I.length;w+=1)S[w]=Qr(Kr(t,I,w));let H=t[1],q=[];for(let w=0;w<H.length;w+=1)q[w]=Jr(Zr(t,H,w));return{c(){e=v("footer"),n=v("section");for(let w=0;w<S.length;w+=1)S[w].c();r=U(),l=v("section"),i=v("div"),a=U(),o=v("p"),s=v("a"),f=V("The Pudding"),u=V(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),m=U(),g=v("section"),_=v("ul");for(let w=0;w<q.length;w+=1)q[w].c();this.h()},l(w){e=k(w,"FOOTER",{class:!0});var A=x(e);n=k(A,"SECTION",{class:!0});var y=x(n);for(let M=0;M<S.length;M+=1)S[M].l(y);y.forEach(d),r=X(A),l=k(A,"SECTION",{class:!0});var P=x(l);i=k(P,"DIV",{class:!0});var N=x(i);N.forEach(d),a=X(P),o=k(P,"P",{});var D=x(o);s=k(D,"A",{href:!0,class:!0});var L=x(s);f=j(L,"The Pudding"),L.forEach(d),u=j(D,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),D.forEach(d),P.forEach(d),m=X(A),g=k(A,"SECTION",{class:!0});var b=x(g);_=k(b,"UL",{class:!0});var E=x(_);for(let M=0;M<q.length;M+=1)q[M].l(E);E.forEach(d),b.forEach(d),A.forEach(d),this.h()},h(){c(n,"class","stories svelte-1pc98p8"),c(i,"class","wordmark svelte-1pc98p8"),c(s,"href","https://pudding.cool"),c(s,"class","svelte-1pc98p8"),c(l,"class","about svelte-1pc98p8"),c(_,"class","svelte-1pc98p8"),c(g,"class","links svelte-1pc98p8"),c(e,"class","svelte-1pc98p8")},m(w,A){C(w,e,A),h(e,n);for(let y=0;y<S.length;y+=1)S[y].m(n,null);h(e,r),h(e,l),h(l,i),i.innerHTML=$l,h(l,a),h(l,o),h(o,s),h(s,f),h(o,u),h(e,m),h(e,g),h(g,_);for(let y=0;y<q.length;y+=1)q[y].m(_,null)},p(w,[A]){if(A&1){I=w[0];let y;for(y=0;y<I.length;y+=1){const P=Kr(w,I,y);S[y]?S[y].p(P,A):(S[y]=Qr(P),S[y].c(),S[y].m(n,null))}for(;y<S.length;y+=1)S[y].d(1);S.length=I.length}if(A&2){H=w[1];let y;for(y=0;y<H.length;y+=1){const P=Zr(w,H,y);q[y]?q[y].p(P,A):(q[y]=Jr(P),q[y].c(),q[y].m(_,null))}for(;y<q.length;y+=1)q[y].d(1);q.length=H.length}},i:_e,o:_e,d(w){w&&d(e),st(S,w),st(q,w)}}}function ia(t,e,n){let r,l=[];const a=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,o=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return Ar(async()=>{r=window.location.href;const f=await(await fetch(a)).json();n(0,l=f.filter(u=>!r.includes(u.url)).slice(0,4))}),[l,o,a]}class la extends Fe{constructor(e){super(),Ue(this,e,ia,ra,Xe,{})}}function $r(t,e,n){const r=t.slice();return r[19]=e[n],r}function ei(t,e,n){const r=t.slice();return r[19]=e[n],r}function ti(t,e,n){const r=t.slice();return r[24]=e[n],r}function ni(t){let e,n,r,l,i,a=rn(t[24][0])+"",o,s;return{c(){e=ge("line"),l=ge("text"),i=V("$"),o=V(a),this.h()},l(f){e=pe(f,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(d),l=pe(f,"text",{class:!0,x:!0,y:!0});var u=x(l);i=j(u,"$"),o=j(u,a),u.forEach(d),this.h()},h(){c(e,"x1","0"),c(e,"x2",t[6]),c(e,"y1",n=t[24][1]),c(e,"y2",r=t[24][1]),c(l,"class","chartText"),c(l,"x","0"),c(l,"y",s=t[24][1]-5)},m(f,u){C(f,e,u),C(f,l,u),h(l,i),h(l,o)},p(f,u){u&64&&c(e,"x2",f[6]),u&32&&n!==(n=f[24][1])&&c(e,"y1",n),u&32&&r!==(r=f[24][1])&&c(e,"y2",r),u&32&&a!==(a=rn(f[24][0])+"")&&ae(o,a),u&32&&s!==(s=f[24][1]-5)&&c(l,"y",s)},d(f){f&&d(e),f&&d(l)}}}function ri(t){let e,n,r,l,i,a;return{c(){e=ge("rect"),this.h()},l(o){e=pe(o,"rect",{class:!0,x:!0,width:!0,height:!0,y:!0}),x(e).forEach(d),this.h()},h(){c(e,"class",n="player player"+t[19].order+" svelte-18tg285"),c(e,"x",r=t[19].order*((t[6]-50)/yn)+50),c(e,"width",l=t[6]/200),c(e,"height",i=t[19].height),c(e,"y",a=t[7]-t[19].height)},m(o,s){C(o,e,s)},p(o,s){s&16&&n!==(n="player player"+o[19].order+" svelte-18tg285")&&c(e,"class",n),s&80&&r!==(r=o[19].order*((o[6]-50)/yn)+50)&&c(e,"x",r),s&64&&l!==(l=o[6]/200)&&c(e,"width",l),s&16&&i!==(i=o[19].height)&&c(e,"height",i),s&144&&a!==(a=o[7]-o[19].height)&&c(e,"y",a)},d(o){o&&d(e)}}}function ii(t){let e,n,r=rn(Math.round(t[19].wealth))+"",l,i,a;return{c(){e=ge("text"),n=V("Poorest: $"),l=V(r),this.h()},l(o){e=pe(o,"text",{class:!0,x:!0,y:!0});var s=x(e);n=j(s,"Poorest: $"),l=j(s,r),s.forEach(d),this.h()},h(){c(e,"class","player1Text svelte-18tg285"),c(e,"x",i=t[19].order*((t[6]-50)/yn)+45),c(e,"y",a=t[7]-t[19].height-7)},m(o,s){C(o,e,s),h(e,n),h(e,l)},p(o,s){s&16&&r!==(r=rn(Math.round(o[19].wealth))+"")&&ae(l,r),s&80&&i!==(i=o[19].order*((o[6]-50)/yn)+45)&&c(e,"x",i),s&144&&a!==(a=o[7]-o[19].height-7)&&c(e,"y",a)},d(o){o&&d(e)}}}function li(t){let e,n,r=rn(Math.round(t[19].wealth))+"",l,i,a;return{c(){e=ge("text"),n=V("Richest: $"),l=V(r),this.h()},l(o){e=pe(o,"text",{class:!0,width:!0,x:!0,y:!0});var s=x(e);n=j(s,"Richest: $"),l=j(s,r),s.forEach(d),this.h()},h(){c(e,"class","player2Text svelte-18tg285"),c(e,"width",200),c(e,"x",i=t[19].order*((t[6]-50)/yn)+50),c(e,"y",a=t[7]-t[19].height-7)},m(o,s){C(o,e,s),h(e,n),h(e,l)},p(o,s){s&16&&r!==(r=rn(Math.round(o[19].wealth))+"")&&ae(l,r),s&80&&i!==(i=o[19].order*((o[6]-50)/yn)+50)&&c(e,"x",i),s&144&&a!==(a=o[7]-o[19].height-7)&&c(e,"y",a)},d(o){o&&d(e)}}}function ai(t){let e,n,r=t[19].order==0&&ii(t),l=t[19].order==99&&li(t);return{c(){r&&r.c(),e=ce(),l&&l.c(),n=ce()},l(i){r&&r.l(i),e=ce(),l&&l.l(i),n=ce()},m(i,a){r&&r.m(i,a),C(i,e,a),l&&l.m(i,a),C(i,n,a)},p(i,a){i[19].order==0?r?r.p(i,a):(r=ii(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i[19].order==99?l?l.p(i,a):(l=li(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){r&&r.d(i),i&&d(e),l&&l.d(i),i&&d(n)}}}function aa(t){let e,n,r,l,i,a,o,s,f,u,m,g,_,I=rn(t[0])+"",S,H,q=t[5],w=[];for(let D=0;D<q.length;D+=1)w[D]=ni(ti(t,q,D));let A=t[4],y=[];for(let D=0;D<A.length;D+=1)y[D]=ri(ei(t,A,D));let P=t[4],N=[];for(let D=0;D<P.length;D+=1)N[D]=ai($r(t,P,D));return{c(){e=v("div"),n=v("div"),r=ge("svg");for(let D=0;D<w.length;D+=1)w[D].c();l=ce();for(let D=0;D<y.length;D+=1)y[D].c();i=ce();for(let D=0;D<N.length;D+=1)N[D].c();o=U(),s=v("div"),f=v("div"),u=v("div"),m=V("Round: "),g=v("strong"),_=v("span"),S=V(I),this.h()},l(D){e=k(D,"DIV",{class:!0});var L=x(e);n=k(L,"DIV",{class:!0,style:!0});var b=x(n);r=pe(b,"svg",{class:!0});var E=x(r);for(let F=0;F<w.length;F+=1)w[F].l(E);l=ce();for(let F=0;F<y.length;F+=1)y[F].l(E);i=ce();for(let F=0;F<N.length;F+=1)N[F].l(E);E.forEach(d),b.forEach(d),o=X(L),s=k(L,"DIV",{class:!0});var M=x(s);f=k(M,"DIV",{class:!0});var T=x(f);u=k(T,"DIV",{class:!0});var R=x(u);m=j(R,"Round: "),g=k(R,"STRONG",{});var O=x(g);_=k(O,"SPAN",{class:!0});var z=x(_);S=j(z,I),z.forEach(d),O.forEach(d),R.forEach(d),T.forEach(d),M.forEach(d),L.forEach(d),this.h()},h(){c(r,"class","svelte-18tg285"),c(n,"class","chartArea svelte-18tg285"),le(n,"height",t[3]+"px"),Be(()=>t[10].call(n)),c(_,"class","toolValue"),c(u,"class","toolLabel svelte-18tg285"),c(f,"class","toolItem roundItem"),c(s,"class","toolbar ysm_data svelte-18tg285"),c(e,"class","ysm_container interactive_container svelte-18tg285"),Be(()=>t[11].call(e))},m(D,L){C(D,e,L),h(e,n),h(n,r);for(let b=0;b<w.length;b+=1)w[b].m(r,null);h(r,l);for(let b=0;b<y.length;b+=1)y[b].m(r,null);h(r,i);for(let b=0;b<N.length;b+=1)N[b].m(r,null);a=Nn(n,t[10].bind(n)),h(e,o),h(e,s),h(s,f),h(f,u),h(u,m),h(u,g),h(g,_),h(_,S),H=Nn(e,t[11].bind(e))},p(D,[L]){if(L&96){q=D[5];let b;for(b=0;b<q.length;b+=1){const E=ti(D,q,b);w[b]?w[b].p(E,L):(w[b]=ni(E),w[b].c(),w[b].m(r,l))}for(;b<w.length;b+=1)w[b].d(1);w.length=q.length}if(L&208){A=D[4];let b;for(b=0;b<A.length;b+=1){const E=ei(D,A,b);y[b]?y[b].p(E,L):(y[b]=ri(E),y[b].c(),y[b].m(r,i))}for(;b<y.length;b+=1)y[b].d(1);y.length=A.length}if(L&208){P=D[4];let b;for(b=0;b<P.length;b+=1){const E=$r(D,P,b);N[b]?N[b].p(E,L):(N[b]=ai(E),N[b].c(),N[b].m(r,null))}for(;b<N.length;b+=1)N[b].d(1);N.length=P.length}L&8&&le(n,"height",D[3]+"px"),L&1&&I!==(I=rn(D[0])+"")&&ae(S,I)},i:_e,o:_e,d(D){D&&d(e),st(w,D),st(y,D),st(N,D),a(),H()}}}let yn=100,oa=1e3,sa=20;function ca(t){let e=1;return t[0]==="-"&&(e=-1,t=t.substr(1)),function(n,r){return(n[t]<r[t]?-1:n[t]>r[t]?1:0)*e}}function fa(t){let e=t.length,n;for(;e!=0;)n=Math.floor(Math.random()*e),e--,[t[e],t[n]]=[t[n],t[e]];return t}function rn(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function ua(t,e,n){let r=[],l=[],i=0,a=0,{round:o=0}=e,{roundLimit:s}=e,f,{increment:u}=e,m=600,g=600,_=g*.8,I=_-50;function S(){n(4,r=[]);for(let N in[...Array(yn).keys()]){let D={wealth:oa,id:N,order:0,height:0,is_it_me:0};r.push(D)}}function H(){n(0,o=0),setInterval(function(){if(o<s){for(var N=0;N<u;N++)q();w()}else o!=s&&n(0,o=0)},10)}function q(){n(4,r=fa(r));for(let N=0;N<r.length;N+=2){let D=r[N],L=r[N+1],E=(D.wealth>L.wealth?[D,L]:[L,D])[1].wealth*sa/100,M=Math.random()>.5?[E,-E]:[-E,E];n(4,r[N].wealth=r[N].wealth+M[0],r),n(4,r[N+1].wealth=r[N+1].wealth+M[1],r)}n(0,o+=1)}function w(){i=0,a=0,r.sort(ca("wealth")),r.forEach(function(D){D.wealth>i&&(i=D.wealth)}),i>2e4?a=12e4:i>9e3?a=25e3:i>4800?a=1e4:i>2400?a=5e3:a=2500,n(5,l=[]);for(var N=0;N<a;N+=a/5){const D=A(N);l.push([N,D])}for(var N=0;N<r.length;N++)n(4,r[N].is_it_me=N==0?1:0,r),n(4,r[N].order=N,r),n(4,r[N].height=I-A(r[N].wealth),r),n(4,r[N].height=r[N].height<2?2:r[N].height,r)}function A(N){return I-N/a*I}function y(){f=this.clientWidth,n(6,f)}function P(){m=this.clientHeight,g=this.clientWidth,n(1,m),n(2,g),n(3,_),n(9,u),n(8,s),n(2,g),n(1,m),n(3,_),n(9,u),n(8,s)}return t.$$set=N=>{"round"in N&&n(0,o=N.round),"roundLimit"in N&&n(8,s=N.roundLimit),"increment"in N&&n(9,u=N.increment)},t.$$.update=()=>{t.$$.dirty&782&&(n(2,g),n(1,m),n(3,_),n(9,u),n(8,s),n(1,m),n(2,g),n(3,_),n(9,u),n(8,s),n(3,_=g*.85),n(7,I=_),n(9,u),n(2,g),n(1,m),n(3,_),n(8,s),n(8,s),n(2,g),n(1,m),n(3,_),n(9,u),S(),w(),H())},[o,m,g,_,r,l,f,I,s,u,y,P]}class ha extends Fe{constructor(e){super(),Ue(this,e,ua,aa,Xe,{round:0,roundLimit:8,increment:9})}}function da(t){let e,n;const r=t[9].default,l=$n(r,t,t[8],null);return{c(){e=v("div"),l&&l.c()},l(i){e=k(i,"DIV",{});var a=x(e);l&&l.l(a),a.forEach(d)},m(i,a){C(i,e,a),l&&l.m(e,null),t[10](e),n=!0},p(i,[a]){l&&l.p&&(!n||a&256)&&er(l,r,i,i[8],n?nr(r,i[8],a,null):tr(i[8]),null)},i(i){n||(G(l,i),n=!0)},o(i){Z(l,i),n=!1},d(i){i&&d(e),l&&l.d(i),t[10](null)}}}function ma(t,e,n){let{$$slots:r={},$$scope:l}=e,{root:i=null}=e,{top:a=100}=e,{bottom:o=0}=e,{increments:s=100}=e,{value:f=void 0}=e,{progress:u=[]}=e,{steps:m=[]}=e;const g=[];let _=[],I=[],S;const H=()=>{!_.length||_.forEach(w)},q=()=>{let y=0,P=0;for(let N=0;N<m.length;N++)m[N]>.2&&(y=m[N],P=N);y>0?n(1,f=P):n(1,f=void 0)},w=(y,P)=>{const N=T=>{T[0].isIntersecting;const R=T[0].intersectionRatio;n(2,u[P]=T[0].boundingClientRect.height/T[0].boundingClientRect.bottom,u),n(3,m[P]=R,m),q()},D=a?a*-1:0,L=o?o*-1:0,b=`${D}px 0px ${L}px 0px`,E={root:i,rootMargin:b,threshold:g};I[P]&&I[P].disconnect();const M=new IntersectionObserver(N,E);M.observe(y),I[P]=M};Ar(()=>{for(let y=0;y<s+1;y++)g.push(y/s);_=S.querySelectorAll(":scope > *"),H()});function A(y){Ot[y?"unshift":"push"](()=>{S=y,n(0,S)})}return t.$$set=y=>{"root"in y&&n(4,i=y.root),"top"in y&&n(5,a=y.top),"bottom"in y&&n(6,o=y.bottom),"increments"in y&&n(7,s=y.increments),"value"in y&&n(1,f=y.value),"progress"in y&&n(2,u=y.progress),"steps"in y&&n(3,m=y.steps),"$$scope"in y&&n(8,l=y.$$scope)},t.$$.update=()=>{t.$$.dirty&96&&H()},[S,f,u,m,i,a,o,s,l,r,A]}class ya extends Fe{constructor(e){super(),Ue(this,e,ma,da,Xe,{root:4,top:5,bottom:6,increments:7,value:1,progress:2,steps:3})}}function be(t,{delay:e=0,duration:n=400,easing:r=Jl}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*l}`}}function oi(t,e,n){const r=t.slice();r[24]=e[n],r[27]=n;const l=r[4]===r[27];return r[25]=l,r}function si(t,e,n){const r=t.slice();return r[28]=e[n].image,r[29]=e[n].xmetric,r[30]=e[n].x,r[31]=e[n].ymetric,r[32]=e[n].y,r[33]=e[n].width,r[34]=e[n].opacity,r[27]=n,r}function ga(t){let e,n,r;function l(a){t[14](a)}let i={roundLimit:t[3].roundLimit,increment:t[3].increment};return t[11]!==void 0&&(i.round=t[11]),e=new ha({props:i}),Ot.push(()=>Dn(e,"round",l)),{c(){he(e.$$.fragment)},l(a){de(e.$$.fragment,a)},m(a,o){me(e,a,o),r=!0},p(a,o){const s={};o[0]&8&&(s.roundLimit=a[3].roundLimit),o[0]&8&&(s.increment=a[3].increment),!n&&o[0]&2048&&(n=!0,s.round=a[11],zn(()=>n=!1)),e.$set(s)},i(a){r||(G(e.$$.fragment,a),r=!0)},o(a){Z(e.$$.fragment,a),r=!1},d(a){ye(e,a)}}}function pa(t){let e,n,r,l,i=t[3],a=[];for(let u=0;u<i.length;u+=1)a[u]=ci(si(t,i,u));const o=u=>Z(a[u],1,1,()=>{a[u]=null});let s=t[1]=="scrolly2"&&t[13][t[2]].player1Words!=""&&fi(t),f=t[1]=="scrolly2"&&t[13][t[2]].player2Words!=""&&ui(t);return{c(){for(let u=0;u<a.length;u+=1)a[u].c();e=U(),s&&s.c(),n=U(),f&&f.c(),r=ce()},l(u){for(let m=0;m<a.length;m+=1)a[m].l(u);e=X(u),s&&s.l(u),n=X(u),f&&f.l(u),r=ce()},m(u,m){for(let g=0;g<a.length;g+=1)a[g].m(u,m);C(u,e,m),s&&s.m(u,m),C(u,n,m),f&&f.m(u,m),C(u,r,m),l=!0},p(u,m){if(m[0]&8){i=u[3];let g;for(g=0;g<i.length;g+=1){const _=si(u,i,g);a[g]?(a[g].p(_,m),G(a[g],1)):(a[g]=ci(_),a[g].c(),G(a[g],1),a[g].m(e.parentNode,e))}for($e(),g=i.length;g<a.length;g+=1)o(g);et()}u[1]=="scrolly2"&&u[13][u[2]].player1Words!=""?s?(s.p(u,m),m[0]&6&&G(s,1)):(s=fi(u),s.c(),G(s,1),s.m(n.parentNode,n)):s&&($e(),Z(s,1,1,()=>{s=null}),et()),u[1]=="scrolly2"&&u[13][u[2]].player2Words!=""?f?(f.p(u,m),m[0]&6&&G(f,1)):(f=ui(u),f.c(),G(f,1),f.m(r.parentNode,r)):f&&($e(),Z(f,1,1,()=>{f=null}),et())},i(u){if(!l){for(let m=0;m<i.length;m+=1)G(a[m]);G(s),G(f),l=!0}},o(u){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)Z(a[m]);Z(s),Z(f),l=!1},d(u){st(a,u),u&&d(e),s&&s.d(u),u&&d(n),f&&f.d(u),u&&d(r)}}}function ci(t){let e,n,r,l,i,a,o;return{c(){e=v("img"),this.h()},l(s){e=k(s,"IMG",{class:!0,src:!0,alt:!0,style:!0}),this.h()},h(){c(e,"class",n=Yr(t[28])+" svelte-17on7q1"),Jn(e.src,r="assets/yardsale/art/"+t[28]+".png")||c(e,"src",r),c(e,"alt","stageImage"),c(e,"style",l=t[29]+": "+t[30]+"%; "+t[31]+": "+t[32]+"%; width: "+t[33]+"%; opacity:"+t[34]+";")},m(s,f){C(s,e,f),o=!0},p(s,f){(!o||f[0]&8&&n!==(n=Yr(s[28])+" svelte-17on7q1"))&&c(e,"class",n),(!o||f[0]&8&&!Jn(e.src,r="assets/yardsale/art/"+s[28]+".png"))&&c(e,"src",r),(!o||f[0]&8&&l!==(l=s[29]+": "+s[30]+"%; "+s[31]+": "+s[32]+"%; width: "+s[33]+"%; opacity:"+s[34]+";"))&&c(e,"style",l)},i(s){o||(Be(()=>{a&&a.end(1),i=mt(e,be,{delay:0}),i.start()}),o=!0)},o(s){i&&i.invalidate(),a=ct(e,be,{}),o=!1},d(s){s&&d(e),s&&a&&a.end()}}}function fi(t){let e,n=t[13][t[2]].player1Words+"",r,l,i,a;return{c(){e=v("div"),r=V(n),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=x(e);r=j(s,n),s.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble")},m(o,s){C(o,e,s),h(e,r),a=!0},p(o,s){(!a||s[0]&4)&&n!==(n=o[13][o[2]].player1Words+"")&&ae(r,n)},i(o){a||(Be(()=>{i&&i.end(1),l=mt(e,be,{delay:0}),l.start()}),a=!0)},o(o){l&&l.invalidate(),i=ct(e,be,{}),a=!1},d(o){o&&d(e),o&&i&&i.end()}}}function ui(t){let e,n=t[13][t[2]].player2Words+"",r,l,i,a;return{c(){e=v("div"),r=V(n),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=x(e);r=j(s,n),s.forEach(d),this.h()},h(){c(e,"class","speechBubble player2bubble")},m(o,s){C(o,e,s),h(e,r),a=!0},p(o,s){(!a||s[0]&4)&&n!==(n=o[13][o[2]].player2Words+"")&&ae(r,n)},i(o){a||(Be(()=>{i&&i.end(1),l=mt(e,be,{delay:600}),l.start()}),a=!0)},o(o){l&&l.invalidate(),i=ct(e,be,{}),a=!1},d(o){o&&d(e),o&&i&&i.end()}}}function hi(t){let e,n,r,l,i,a=t[13][t[2]].player1Record+"",o,s,f,u,m=bn(t[12].player1)+"",g,_,I,S,H,q,w,A,y,P,N,D,L,b=t[13][t[2]].player2Record+"",E,M,T,R,O=bn(t[12].player2)+"",z,F,Q,W,K,B,ee,se;return{c(){e=v("div"),n=v("div"),r=V("Player 1"),l=U(),i=v("div"),o=V(a),s=U(),f=v("div"),u=V("$"),g=V(m),_=U(),I=v("div"),S=v("div"),H=v("div"),A=U(),y=v("div"),P=v("div"),N=V("Player 2"),D=U(),L=v("div"),E=V(b),M=U(),T=v("div"),R=V("$"),z=V(O),F=U(),Q=v("div"),W=v("div"),K=v("div"),this.h()},l(te){e=k(te,"DIV",{class:!0});var oe=x(e);n=k(oe,"DIV",{class:!0});var Le=x(n);r=j(Le,"Player 1"),Le.forEach(d),l=X(oe),i=k(oe,"DIV",{class:!0});var Te=x(i);o=j(Te,a),Te.forEach(d),s=X(oe),f=k(oe,"DIV",{class:!0});var Ze=x(f);u=j(Ze,"$"),g=j(Ze,m),Ze.forEach(d),_=X(oe),I=k(oe,"DIV",{class:!0});var Se=x(I);S=k(Se,"DIV",{class:!0});var pt=x(S);H=k(pt,"DIV",{class:!0,style:!0}),x(H).forEach(d),pt.forEach(d),Se.forEach(d),oe.forEach(d),A=X(te),y=k(te,"DIV",{class:!0});var He=x(y);P=k(He,"DIV",{class:!0});var ne=x(P);N=j(ne,"Player 2"),ne.forEach(d),D=X(He),L=k(He,"DIV",{class:!0});var fe=x(L);E=j(fe,b),fe.forEach(d),M=X(He),T=k(He,"DIV",{class:!0});var Ne=x(T);R=j(Ne,"$"),z=j(Ne,O),Ne.forEach(d),F=X(He),Q=k(He,"DIV",{class:!0});var Pe=x(Q);W=k(Pe,"DIV",{class:!0});var We=x(W);K=k(We,"DIV",{class:!0,style:!0}),x(K).forEach(d),We.forEach(d),Pe.forEach(d),He.forEach(d),this.h()},h(){c(n,"class","gameInfoItem brighter svelte-17on7q1"),c(i,"class","gameInfoItem svelte-17on7q1"),c(f,"class","gameInfoItem svelte-17on7q1"),c(H,"class","gameInfoBar svelte-17on7q1"),le(H,"width",t[12].player1/20+"%"),c(S,"class","gameInfoFullbar svelte-17on7q1"),c(I,"class","gameInfoItem svelte-17on7q1"),c(e,"class","player1 wealthNumber svelte-17on7q1"),c(P,"class","gameInfoItem brighter svelte-17on7q1"),c(L,"class","gameInfoItem svelte-17on7q1"),c(T,"class","gameInfoItem svelte-17on7q1"),c(K,"class","gameInfoBar svelte-17on7q1"),le(K,"width",t[12].player2/20+"%"),c(W,"class","gameInfoFullbar svelte-17on7q1"),c(Q,"class","gameInfoItem svelte-17on7q1"),c(y,"class","player2 wealthNumber svelte-17on7q1")},m(te,oe){C(te,e,oe),h(e,n),h(n,r),h(e,l),h(e,i),h(i,o),h(e,s),h(e,f),h(f,u),h(f,g),h(e,_),h(e,I),h(I,S),h(S,H),C(te,A,oe),C(te,y,oe),h(y,P),h(P,N),h(y,D),h(y,L),h(L,E),h(y,M),h(y,T),h(T,R),h(T,z),h(y,F),h(y,Q),h(Q,W),h(W,K),se=!0},p(te,oe){(!se||oe[0]&4)&&a!==(a=te[13][te[2]].player1Record+"")&&ae(o,a),(!se||oe[0]&4096)&&m!==(m=bn(te[12].player1)+"")&&ae(g,m),(!se||oe[0]&4096)&&le(H,"width",te[12].player1/20+"%"),(!se||oe[0]&4)&&b!==(b=te[13][te[2]].player2Record+"")&&ae(E,b),(!se||oe[0]&4096)&&O!==(O=bn(te[12].player2)+"")&&ae(z,O),(!se||oe[0]&4096)&&le(K,"width",te[12].player2/20+"%")},i(te){se||(Be(()=>{w&&w.end(1),q=mt(e,be,{delay:400}),q.start()}),Be(()=>{ee&&ee.end(1),B=mt(y,be,{delay:400}),B.start()}),se=!0)},o(te){q&&q.invalidate(),w=ct(e,be,{}),B&&B.invalidate(),ee=ct(y,be,{}),se=!1},d(te){te&&d(e),te&&w&&w.end(),te&&d(A),te&&d(y),te&&ee&&ee.end()}}}function di(t){let e,n,r,l,i,a,o=bn(t[12].wager)+"",s,f,u,m;return{c(){e=v("div"),n=v("div"),r=V("Wager"),l=U(),i=v("div"),a=V("$"),s=V(o),this.h()},l(g){e=k(g,"DIV",{class:!0});var _=x(e);n=k(_,"DIV",{class:!0});var I=x(n);r=j(I,"Wager"),I.forEach(d),l=X(_),i=k(_,"DIV",{class:!0});var S=x(i);a=j(S,"$"),s=j(S,o),S.forEach(d),_.forEach(d),this.h()},h(){c(n,"class","gameInfoItem brighter svelte-17on7q1"),c(i,"class","gameInfoItem svelte-17on7q1"),c(e,"class","wager svelte-17on7q1")},m(g,_){C(g,e,_),h(e,n),h(n,r),h(e,l),h(e,i),h(i,a),h(i,s),m=!0},p(g,_){(!m||_[0]&4096)&&o!==(o=bn(g[12].wager)+"")&&ae(s,o)},i(g){m||(Be(()=>{u&&u.end(1),f=mt(e,be,{delay:0}),f.start()}),m=!0)},o(g){f&&f.invalidate(),u=ct(e,be,{}),m=!1},d(g){g&&d(e),g&&u&&u.end()}}}function mi(t){let e,n,r;return{c(){e=v("div"),this.h()},l(l){e=k(l,"DIV",{class:!0}),x(e).forEach(d),this.h()},h(){c(e,"class","scrolldown_hint svelte-17on7q1")},m(l,i){C(l,e,i),r=!0},i(l){r||(n&&n.end(1),r=!0)},o(l){n=ct(e,be,{}),r=!1},d(l){l&&d(e),l&&n&&n.end()}}}function _a(t){let e,n,r=t[24]+"",l,i;return{c(){e=v("div"),n=v("p"),l=V(r),i=U(),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=k(o,"P",{class:!0});var s=x(n);l=j(s,r),s.forEach(d),i=X(o),o.forEach(d),this.h()},h(){c(n,"class","svelte-17on7q1"),c(e,"class","step step"+t[27]+" stepHidden svelte-17on7q1"),xn(e,"active",t[25])},m(a,o){C(a,e,o),h(e,n),h(n,l),h(e,i)},p(a,o){o[0]&1&&r!==(r=a[24]+"")&&ae(l,r),o[0]&16&&xn(e,"active",a[25])},d(a){a&&d(e)}}}function wa(t){let e,n;function r(a,o){return a[1]=="scrolly3"&&a[2]==2&&a[11]>1500&&a[11]<4500?xa:a[1]=="scrolly3"&&a[2]==2&&a[11]>4500&&a[11]<1e4?ka:a[1]=="scrolly3"&&a[2]==2&&a[11]==1e4?va:ba}let l=r(t),i=l(t);return{c(){e=v("div"),i.c(),n=U(),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);i.l(o),n=X(o),o.forEach(d),this.h()},h(){c(e,"class","step step"+t[27]+" svelte-17on7q1"),xn(e,"active",t[25])},m(a,o){C(a,e,o),i.m(e,null),h(e,n)},p(a,o){l===(l=r(a))&&i?i.p(a,o):(i.d(1),i=l(a),i&&(i.c(),i.m(e,n))),o[0]&16&&xn(e,"active",a[25])},d(a){a&&d(e),i.d()}}}function ba(t){let e,n=t[24]+"",r;return{c(){e=v("p"),r=V(n),this.h()},l(l){e=k(l,"P",{class:!0});var i=x(e);r=j(i,n),i.forEach(d),this.h()},h(){c(e,"class","svelte-17on7q1")},m(l,i){C(l,e,i),h(e,r)},p(l,i){i[0]&1&&n!==(n=l[24]+"")&&ae(r,n)},d(l){l&&d(e)}}}function va(t){let e,n;return{c(){e=v("p"),n=V("Whoa, you lost all your money. Meanwhile, one person ended up with nearly all of the wealth!"),this.h()},l(r){e=k(r,"P",{class:!0});var l=x(e);n=j(l,"Whoa, you lost all your money. Meanwhile, one person ended up with nearly all of the wealth!"),l.forEach(d),this.h()},h(){c(e,"class","svelte-17on7q1")},m(r,l){C(r,e,l),h(e,n)},p:_e,d(r){r&&d(e)}}}function ka(t){let e,n;return{c(){e=v("p"),n=V("Seriously, just wait..."),this.h()},l(r){e=k(r,"P",{class:!0});var l=x(e);n=j(l,"Seriously, just wait..."),l.forEach(d),this.h()},h(){c(e,"class","svelte-17on7q1")},m(r,l){C(r,e,l),h(e,n)},p:_e,d(r){r&&d(e)}}}function xa(t){let e,n;return{c(){e=v("p"),n=V("Still simulating 10,000 rounds..."),this.h()},l(r){e=k(r,"P",{class:!0});var l=x(e);n=j(l,"Still simulating 10,000 rounds..."),l.forEach(d),this.h()},h(){c(e,"class","svelte-17on7q1")},m(r,l){C(r,e,l),h(e,n)},p:_e,d(r){r&&d(e)}}}function yi(t){let e;function n(i,a){return i[24]!=""?wa:_a}let r=n(t),l=r(t);return{c(){l.c(),e=ce()},l(i){l.l(i),e=ce()},m(i,a){l.m(i,a),C(i,e,a)},p(i,a){r===(r=n(i))&&l?l.p(i,a):(l.d(1),l=r(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&d(e)}}}function Ea(t){let e,n=t[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=yi(oi(t,n,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ce()},l(l){for(let i=0;i<r.length;i+=1)r[i].l(l);e=ce()},m(l,i){for(let a=0;a<r.length;a+=1)r[a].m(l,i);C(l,e,i)},p(l,i){if(i[0]&2071){n=l[0];let a;for(a=0;a<n.length;a+=1){const o=oi(l,n,a);r[a]?r[a].p(o,i):(r[a]=yi(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(l){st(r,l),l&&d(e)}}}function Ia(t){let e,n,r,l,i,a,o,s,f=t[1]=="scrolly2"&&[1,2,3,4,5,7,8,9,10,11,12].indexOf(t[2])!=-1,u,m=t[1]=="scrolly2"&&[2,3,7,8,9].indexOf(t[2])!=-1,g,_,I,S,H,q,w,A,y,P;const N=[pa,ga],D=[];function L(z,F){return z[1]!="scrolly3"?0:1}i=L(t),a=D[i]=N[i](t);let b=f&&hi(t),E=m&&di(t),M=t[1]=="scrolly1"&&t[2]<1&&mi();function T(z){t[16](z)}function R(z){t[17](z)}let O={$$slots:{default:[Ea]},$$scope:{ctx:t}};return t[4]!==void 0&&(O.value=t[4]),t[7]!==void 0&&(O.progress=t[7]),w=new ya({props:O}),Ot.push(()=>Dn(w,"value",T)),Ot.push(()=>Dn(w,"progress",R)),{c(){e=v("div"),n=v("section"),r=v("div"),l=v("div"),a.c(),o=U(),s=v("div"),b&&b.c(),u=U(),E&&E.c(),g=U(),M&&M.c(),_=U(),I=v("div"),H=U(),q=v("div"),he(w.$$.fragment),this.h()},l(z){e=k(z,"DIV",{class:!0});var F=x(e);n=k(F,"SECTION",{class:!0,id:!0});var Q=x(n);r=k(Q,"DIV",{class:!0,style:!0});var W=x(r);l=k(W,"DIV",{class:!0});var K=x(l);a.l(K),o=X(K),s=k(K,"DIV",{class:!0});var B=x(s);b&&b.l(B),u=X(B),E&&E.l(B),B.forEach(d),g=X(K),M&&M.l(K),_=X(K),I=k(K,"DIV",{class:!0,style:!0}),x(I).forEach(d),K.forEach(d),W.forEach(d),H=X(Q),q=k(Q,"DIV",{class:!0});var ee=x(q);de(w.$$.fragment,ee),ee.forEach(d),Q.forEach(d),F.forEach(d),this.h()},h(){c(s,"class","gameContainer svelte-17on7q1"),c(I,"class","fuzzy svelte-17on7q1"),le(I,"opacity",t[10]),le(I,"background-image","url('assets/yardsale/grain.png')"),c(l,"class","scrollyImageContainer svelte-17on7q1"),c(r,"class","scrollyBackground svelte-17on7q1"),le(r,"background",t[9]),le(r,"max-height",t[8]+"px"),Be(()=>t[15].call(r)),c(q,"class","scrollyContainer svelte-17on7q1"),c(n,"class","scrolly svelte-17on7q1"),c(n,"id",t[1]),c(e,"class","interactive_container svelte-17on7q1")},m(z,F){C(z,e,F),h(e,n),h(n,r),h(r,l),D[i].m(l,null),h(l,o),h(l,s),b&&b.m(s,null),h(s,u),E&&E.m(s,null),h(l,g),M&&M.m(l,null),h(l,_),h(l,I),S=Nn(r,t[15].bind(r)),h(n,H),h(n,q),me(w,q,null),P=!0},p(z,F){let Q=i;i=L(z),i===Q?D[i].p(z,F):($e(),Z(D[Q],1,1,()=>{D[Q]=null}),et(),a=D[i],a?a.p(z,F):(a=D[i]=N[i](z),a.c()),G(a,1),a.m(l,o)),F[0]&6&&(f=z[1]=="scrolly2"&&[1,2,3,4,5,7,8,9,10,11,12].indexOf(z[2])!=-1),f?b?(b.p(z,F),F[0]&6&&G(b,1)):(b=hi(z),b.c(),G(b,1),b.m(s,u)):b&&($e(),Z(b,1,1,()=>{b=null}),et()),F[0]&6&&(m=z[1]=="scrolly2"&&[2,3,7,8,9].indexOf(z[2])!=-1),m?E?(E.p(z,F),F[0]&6&&G(E,1)):(E=di(z),E.c(),G(E,1),E.m(s,null)):E&&($e(),Z(E,1,1,()=>{E=null}),et()),z[1]=="scrolly1"&&z[2]<1?M?F[0]&6&&G(M,1):(M=mi(),M.c(),G(M,1),M.m(l,_)):M&&($e(),Z(M,1,1,()=>{M=null}),et()),(!P||F[0]&1024)&&le(I,"opacity",z[10]),(!P||F[0]&512)&&le(r,"background",z[9]),(!P||F[0]&256)&&le(r,"max-height",z[8]+"px");const W={};F[0]&2071|F[1]&32&&(W.$$scope={dirty:F,ctx:z}),!A&&F[0]&16&&(A=!0,W.value=z[4],zn(()=>A=!1)),!y&&F[0]&128&&(y=!0,W.progress=z[7],zn(()=>y=!1)),w.$set(W),(!P||F[0]&2)&&c(n,"id",z[1])},i(z){P||(G(a),G(b),G(E),G(M),G(w.$$.fragment,z),P=!0)},o(z){Z(a),Z(b),Z(E),Z(M),Z(w.$$.fragment,z),P=!1},d(z){z&&d(e),D[i].d(),b&&b.d(),E&&E.d(),M&&M.d(),S(),ye(w)}}}function bn(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Ma(t,e,n){let{words:r}=e,{container:l}=e,i=0,a,o=0,s=600,f=600,u=f*.8,m="#000",g=1,_=0,I;const S={"scrolly1-0":[{image:"pawnshop",xmetric:"left",x:0,ymetric:"top",y:0,width:105,opacity:1},{image:"watch-zoom",xmetric:"left",x:0,ymetric:"top",y:0,width:105,opacity:0},{image:"phone",xmetric:"left",x:-50,ymetric:"top",y:20,width:30,opacity:0},{image:"plus-minus",xmetric:"left",x:0,ymetric:"top",y:0,width:105,opacity:0}],"scrolly1-1":[{image:"pawnshop",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:0},{image:"watch-zoom",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:1},{image:"phone",xmetric:"left",x:10,ymetric:"top",y:20,width:30,opacity:1},{image:"plus-minus",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:0}],"scrolly1-2":[{image:"pawnshop",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:0},{image:"watch-zoom",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:1},{image:"phone",xmetric:"left",x:10,ymetric:"top",y:20,width:30,opacity:1},{image:"plus-minus",xmetric:"left",x:-20,ymetric:"top",y:-20,width:140,opacity:0}],"scrolly1-3":[{image:"pawnshop",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:0},{image:"watch-zoom",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:0},{image:"phone",xmetric:"left",x:-50,ymetric:"top",y:20,width:30,opacity:0},{image:"plus-minus",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:1}],"scrolly1-4":[{image:"pawnshop",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:0},{image:"watch-zoom",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:0},{image:"phone",xmetric:"left",x:-50,ymetric:"top",y:20,width:30,opacity:0},{image:"plus-minus",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:1}],"scrolly2-0":[{image:"the-100",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:1},{image:"player1-full",xmetric:"left",x:-30,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:-30,ymetric:"bottom",y:5,width:30,opacity:0}],"scrolly2-1":[{image:"the-100",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:.3},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:1},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:1},{image:"player1-happy",xmetric:"left",x:-20,ymetric:"top",y:33,width:30,opacity:0},{image:"player2-happy",xmetric:"right",x:-20,ymetric:"top",y:33,width:30,opacity:0},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:50,ymetric:"top",y:200,width:10,opacity:1},{image:"coin-tails",xmetric:"left",x:50,ymetric:"top",y:200,width:10,opacity:0}],"scrolly2-2":[{image:"the-100",xmetric:"left",x:-50,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:50,ymetric:"top",y:200,width:10,opacity:1},{image:"coin-tails",xmetric:"left",x:50,ymetric:"top",y:33,width:10,opacity:0}],"scrolly2-3":[{image:"the-100",xmetric:"left",x:-50,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:33,width:10,opacity:1},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:33,width:12,opacity:0}],"scrolly2-4":[{image:"the-100",xmetric:"left",x:-50,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player3-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:40,width:12,opacity:1}],"scrolly2-5":[{image:"the-100",xmetric:"left",x:-50,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player3-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:40,width:12,opacity:1}],"scrolly2-6":[{image:"the-100",xmetric:"left",x:0,ymetric:"top",y:0,width:100,opacity:.3},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:1},{image:"player3-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:1},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:33,width:12,opacity:0}],"scrolly2-7":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:33,width:12,opacity:0}],"scrolly2-8":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-sad",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:200,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:33,width:10,opacity:0}],"scrolly2-9":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-sad",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:33,width:10,opacity:1},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:33,width:12,opacity:0}],"scrolly2-10":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-happy",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-sad",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:40,width:12,opacity:1}],"scrolly2-11":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-sad",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:40,width:12,opacity:1}],"scrolly2-12":[{image:"the-100",xmetric:"left",x:-20,ymetric:"top",y:-50,width:200,opacity:.1},{image:"player1-full",xmetric:"left",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player2-full",xmetric:"right",x:5,ymetric:"bottom",y:5,width:30,opacity:0},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player2-happy",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"player3-sad",xmetric:"right",x:5,ymetric:"top",y:33,width:30,opacity:1},{image:"player1-sad",xmetric:"left",x:5,ymetric:"top",y:33,width:30,opacity:0},{image:"coin-flipping",xmetric:"left",x:45,ymetric:"top",y:40,width:10,opacity:0},{image:"coin-tails",xmetric:"left",x:44,ymetric:"top",y:40,width:12,opacity:1}],"scrolly3-0":{roundLimit:2,increment:1},"scrolly3-1":{roundLimit:2,increment:1},"scrolly3-2":{roundLimit:1e4,increment:4}},H={0:{player1:600,player2:600,wager:0,player1Words:"",player2Words:"",player1Record:"0 - 0",player2Record:"0 - 0"},1:{player1:1e3,player2:1e3,wager:0,player1Words:"",player2Words:"",player1Record:"0 - 0",player2Record:"0 - 0"},2:{player1:1e3,player2:1e3,wager:200,player1Words:"I have $1,000 and can only afford to bet 20%.",player2Words:"OK let's do $200.",player1Record:"0 - 0",player2Record:"0 - 0"},3:{player1:1e3,player2:1e3,wager:200,player1Words:"Heads!",player2Words:"",player1Record:"0 - 0",player2Record:"0 - 0"},4:{player1:800,player2:1200,wager:200,player1Words:"It's tails. I lost.",player2Words:"I won $200!",player1Record:"0 - 1",player2Record:"1 - 0"},5:{player1:800,player2:1200,wager:200,player1Words:"",player2Words:"",player1Record:"0 - 1",player2Record:"1 - 0"},6:{player1:800,player2:1200,wager:200,player1Words:"",player2Words:"",player1Record:"0 - 1",player2Record:"1 - 0"},7:{player1:800,player2:1200,wager:240,player1Words:"",player2Words:"I won last game. So I want to bet 20% of my money \u2013 $240.",player1Record:"0 - 1",player2Record:"1 - 0"},8:{player1:800,player2:1200,wager:160,player1Words:"That's too much. I lost my first game, so I can only bet 20% of my money \u2013 $160.",player2Words:"OK fine.",player1Record:"0 - 1",player2Record:"1 - 0"},9:{player1:800,player2:1200,wager:160,player1Words:"Tails!",player2Words:"",player1Record:"0 - 1",player2Record:"1 - 0"},10:{player1:960,player2:1040,wager:160,player1Words:"I won!",player2Words:"Ugh.",player1Record:"1 - 1",player2Record:"1 - 1"},11:{player1:960,player2:1040,wager:160,player1Words:"Wait, why am I not back to $1,000?",player2Words:"",player1Record:"1 - 1",player2Record:"1 - 1"},12:{player1:960,player2:1040,wager:160,player1Words:"",player2Words:"",player1Record:"1 - 1",player2Record:"1 - 1"}};function q(E){E=E==null?i:E,n(2,i=E),n(3,a=E==null?S[l+"-0"]:S[l+"-"+E]),l=="scrolly1"&&i==0?(n(9,m="#000"),n(10,g=1)):l=="scrolly3"?(n(9,m="#c8becf"),n(10,g=.5)):(n(9,m="#7c6a85"),n(10,g=1))}let w={player1:1e3,player2:1e3,wager:200};setInterval(function(){for(var E in w)A(E)},5);function A(E){w[E]<H[i][E]?n(12,w[E]=w[E]+1,w):w[E]>H[i][E]&&n(12,w[E]=w[E]-1,w)}let y=0;function P(){try{y=(i+I[i]/2)/r.length}catch{y=0}y>1&&(y=1)}function N(E){_=E,n(11,_)}function D(){s=this.clientHeight,f=this.clientWidth,n(5,s),n(4,o),n(3,a),n(6,f),n(0,r),n(2,i),n(7,I),n(6,f),n(4,o),n(3,a),n(5,s),n(0,r),n(2,i),n(7,I)}function L(E){o=E,n(4,o)}function b(E){I=E,n(7,I),n(4,o),n(3,a),n(6,f),n(5,s),n(0,r),n(2,i)}return t.$$set=E=>{"words"in E&&n(0,r=E.words),"container"in E&&n(1,l=E.container)},t.$$.update=()=>{t.$$.dirty[0]&253&&(q(o),n(3,a),n(4,o),n(6,f),n(5,s),n(0,r),n(2,i),n(7,I),n(6,f),n(4,o),n(3,a),n(5,s),n(0,r),n(2,i),n(7,I),n(5,s),n(4,o),n(3,a),n(6,f),n(0,r),n(2,i),n(7,I),n(8,u=f),r[i],n(7,I),n(4,o),n(3,a),n(6,f),n(5,s),n(0,r),n(2,i),P())},[r,l,i,a,o,s,f,I,u,m,g,_,w,H,N,D,L,b]}class pr extends Fe{constructor(e){super(),Ue(this,e,Ma,Ia,Xe,{words:0,container:1},null,[-1,-1])}}function gi(t){let e,n;return{c(){e=v("h2"),n=V(t[1])},l(r){e=k(r,"H2",{});var l=x(e);n=j(l,t[1]),l.forEach(d)},m(r,l){C(r,e,l),h(e,n)},p(r,l){l&2&&ae(n,r[1])},d(r){r&&d(e)}}}function Ra(t){let e,n,r,l=pi(t[0])+"",i=t[1]!=""&&gi(t);return{c(){e=v("div"),i&&i.c(),n=U(),r=v("p"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);i&&i.l(o),n=X(o),r=k(o,"P",{});var s=x(r);s.forEach(d),o.forEach(d),this.h()},h(){c(e,"class","body_container")},m(a,o){C(a,e,o),i&&i.m(e,null),h(e,n),h(e,r),r.innerHTML=l},p(a,[o]){a[1]!=""?i?i.p(a,o):(i=gi(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),o&1&&l!==(l=pi(a[0])+"")&&(r.innerHTML=l)},i:_e,o:_e,d(a){a&&d(e),i&&i.d()}}}function pi(t){let e=[];return t.split(`
`).forEach(function(r){r.indexOf("Component|")!=-1&&(r=`<svelte:component this=${r.split("|")[1]}></svelte:component>`),e.push(r)}),"<p>"+e.join("</p><p>")+"</p>"}function Ta(t,e,n){let{words:r}=e,{hed:l}=e;return t.$$set=i=>{"words"in i&&n(0,r=i.words),"hed"in i&&n(1,l=i.hed)},[r,l]}class pn extends Fe{constructor(e){super(),Ue(this,e,Ta,Ra,Xe,{words:0,hed:1})}}function Kn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sa(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _l(t){let e,n,r;t.length!==2?(e=Kn,n=(o,s)=>Kn(t(o),s),r=(o,s)=>t(o)-s):(e=t===Kn||t===Sa?t:Na,n=t,r=t);function l(o,s,f=0,u=o.length){if(f<u){if(e(s,s)!==0)return u;do{const m=f+u>>>1;n(o[m],s)<0?f=m+1:u=m}while(f<u)}return f}function i(o,s,f=0,u=o.length){if(f<u){if(e(s,s)!==0)return u;do{const m=f+u>>>1;n(o[m],s)<=0?f=m+1:u=m}while(f<u)}return f}function a(o,s,f=0,u=o.length){const m=l(o,s,f,u-1);return m>f&&r(o[m-1],s)>-r(o[m],s)?m-1:m}return{left:l,center:a,right:i}}function Na(){return 0}function Da(t){return t===null?NaN:+t}const za=_l(Kn),Aa=za.right;_l(Da).center;const Pa=Aa;var Er=Math.sqrt(50),Ir=Math.sqrt(10),Mr=Math.sqrt(2);function Wa(t,e,n){var r,l=-1,i,a,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(o=wl(t,e,n))===0||!isFinite(o))return[];if(o>0){let s=Math.round(t/o),f=Math.round(e/o);for(s*o<t&&++s,f*o>e&&--f,a=new Array(i=f-s+1);++l<i;)a[l]=(s+l)*o}else{o=-o;let s=Math.round(t*o),f=Math.round(e*o);for(s/o<t&&++s,f/o>e&&--f,a=new Array(i=f-s+1);++l<i;)a[l]=(s+l)/o}return r&&a.reverse(),a}function wl(t,e,n){var r=(e-t)/Math.max(0,n),l=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,l);return l>=0?(i>=Er?10:i>=Ir?5:i>=Mr?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(i>=Er?10:i>=Ir?5:i>=Mr?2:1)}function Va(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/l;return i>=Er?l*=10:i>=Ir?l*=5:i>=Mr&&(l*=2),e<t?-l:l}function ja(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(l);++r<l;)i[r]=t+r*n;return i}function Pr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jn(){}var An=.7,ir=1/An,kn="\\s*([+-]?\\d+)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qa=/^#([0-9a-f]{3,8})$/,La=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),Ha=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Ca=new RegExp(`^rgba\\(${kn},${kn},${kn},${Pn}\\)$`),Oa=new RegExp(`^rgba\\(${At},${At},${At},${Pn}\\)$`),Ba=new RegExp(`^hsl\\(${Pn},${At},${At}\\)$`),Ga=new RegExp(`^hsla\\(${Pn},${At},${At},${Pn}\\)$`),_i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pr(jn,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wi,formatHex:wi,formatHex8:Ya,formatHsl:Fa,formatRgb:bi,toString:bi});function wi(){return this.rgb().formatHex()}function Ya(){return this.rgb().formatHex8()}function Fa(){return vl(this).formatHsl()}function bi(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qa.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vi(e):n===3?new ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?On(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?On(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=La.exec(t))?new ot(e[1],e[2],e[3],1):(e=Ha.exec(t))?new ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ca.exec(t))?On(e[1],e[2],e[3],e[4]):(e=Oa.exec(t))?On(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ba.exec(t))?Ei(e[1],e[2]/100,e[3]/100,1):(e=Ga.exec(t))?Ei(e[1],e[2]/100,e[3]/100,e[4]):_i.hasOwnProperty(t)?vi(_i[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function vi(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function On(t,e,n,r){return r<=0&&(t=e=n=NaN),new ot(t,e,n,r)}function Ua(t){return t instanceof jn||(t=Wn(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function Rr(t,e,n,r){return arguments.length===1?Ua(t):new ot(t,e,n,r==null?1:r)}function ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Pr(ot,Rr,bl(jn,{brighter(t){return t=t==null?ir:Math.pow(ir,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?An:Math.pow(An,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(mn(this.r),mn(this.g),mn(this.b),lr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ki,formatHex:ki,formatHex8:Xa,formatRgb:xi,toString:xi}));function ki(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}`}function Xa(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}${dn((isNaN(this.opacity)?1:this.opacity)*255)}`}function xi(){const t=lr(this.opacity);return`${t===1?"rgb(":"rgba("}${mn(this.r)}, ${mn(this.g)}, ${mn(this.b)}${t===1?")":`, ${t})`}`}function lr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dn(t){return t=mn(t),(t<16?"0":"")+t.toString(16)}function Ei(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wt(t,e,n,r)}function vl(t){if(t instanceof wt)return new wt(t.h,t.s,t.l,t.opacity);if(t instanceof jn||(t=Wn(t)),!t)return new wt;if(t instanceof wt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,l=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-l,s=(i+l)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=s<.5?i+l:2-i-l,a*=60):o=s>0&&s<1?0:a,new wt(a,o,s,t.opacity)}function Za(t,e,n,r){return arguments.length===1?vl(t):new wt(t,e,n,r==null?1:r)}function wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Pr(wt,Za,bl(jn,{brighter(t){return t=t==null?ir:Math.pow(ir,t),new wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?An:Math.pow(An,t),new wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,l=2*n-r;return new ot(_r(t>=240?t-240:t+120,l,r),_r(t,l,r),_r(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new wt(Ii(this.h),Bn(this.s),Bn(this.l),lr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lr(this.opacity);return`${t===1?"hsl(":"hsla("}${Ii(this.h)}, ${Bn(this.s)*100}%, ${Bn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ii(t){return t=(t||0)%360,t<0?t+360:t}function Bn(t){return Math.max(0,Math.min(1,t||0))}function _r(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wr=t=>()=>t;function Ka(t,e){return function(n){return t+n*e}}function Qa(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ja(t){return(t=+t)==1?kl:function(e,n){return n-e?Qa(e,n,t):Wr(isNaN(e)?n:e)}}function kl(t,e){var n=e-t;return n?Ka(t,n):Wr(isNaN(t)?e:t)}const Mi=function t(e){var n=Ja(e);function r(l,i){var a=n((l=Rr(l)).r,(i=Rr(i)).r),o=n(l.g,i.g),s=n(l.b,i.b),f=kl(l.opacity,i.opacity);return function(u){return l.r=a(u),l.g=o(u),l.b=s(u),l.opacity=f(u),l+""}}return r.gamma=t,r}(1);function $a(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),l;return function(i){for(l=0;l<n;++l)r[l]=t[l]*(1-i)+e[l]*i;return r}}function eo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function to(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,l=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)l[a]=Vr(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(o){for(a=0;a<r;++a)i[a]=l[a](o);return i}}function no(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ar(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ro(t,e){var n={},r={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=Vr(t[l],e[l]):r[l]=e[l];return function(i){for(l in n)r[l]=n[l](i);return r}}var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(Tr.source,"g");function io(t){return function(){return t}}function lo(t){return function(e){return t(e)+""}}function ao(t,e){var n=Tr.lastIndex=wr.lastIndex=0,r,l,i,a=-1,o=[],s=[];for(t=t+"",e=e+"";(r=Tr.exec(t))&&(l=wr.exec(e));)(i=l.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(l=l[0])?o[a]?o[a]+=l:o[++a]=l:(o[++a]=null,s.push({i:a,x:ar(r,l)})),n=wr.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?s[0]?lo(s[0].x):io(e):(e=s.length,function(f){for(var u=0,m;u<e;++u)o[(m=s[u]).i]=m.x(f);return o.join("")})}function Vr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Wr(e):(n==="number"?ar:n==="string"?(r=Wn(e))?(e=r,Mi):ao:e instanceof Wn?Mi:e instanceof Date?no:eo(e)?$a:Array.isArray(e)?to:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ro:ar)(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}const Sr=Math.PI,Nr=2*Sr,hn=1e-6,so=Nr-hn;function Dr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xl(){return new Dr}Dr.prototype=xl.prototype={constructor:Dr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,l,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+l)+","+(this._y1=+i)},arcTo:function(t,e,n,r,l){t=+t,e=+e,n=+n,r=+r,l=+l;var i=this._x1,a=this._y1,o=n-t,s=r-e,f=i-t,u=a-e,m=f*f+u*u;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>hn)if(!(Math.abs(u*o-s*f)>hn)||!l)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var g=n-i,_=r-a,I=o*o+s*s,S=g*g+_*_,H=Math.sqrt(I),q=Math.sqrt(m),w=l*Math.tan((Sr-Math.acos((I+m-S)/(2*H*q)))/2),A=w/q,y=w/H;Math.abs(A-1)>hn&&(this._+="L"+(t+A*f)+","+(e+A*u)),this._+="A"+l+","+l+",0,0,"+ +(u*g>f*_)+","+(this._x1=t+y*o)+","+(this._y1=e+y*s)}},arc:function(t,e,n,r,l,i){t=+t,e=+e,n=+n,i=!!i;var a=n*Math.cos(r),o=n*Math.sin(r),s=t+a,f=e+o,u=1^i,m=i?r-l:l-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+s+","+f:(Math.abs(this._x1-s)>hn||Math.abs(this._y1-f)>hn)&&(this._+="L"+s+","+f),n&&(m<0&&(m=m%Nr+Nr),m>so?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=s)+","+(this._y1=f):m>hn&&(this._+="A"+n+","+n+",0,"+ +(m>=Sr)+","+u+","+(this._x1=t+n*Math.cos(l))+","+(this._y1=e+n*Math.sin(l))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function co(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function En(t){return t=or(Math.abs(t)),t?t[1]:NaN}function fo(t,e){return function(n,r){for(var l=n.length,i=[],a=0,o=t[0],s=0;l>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),i.push(n.substring(l-=o,l+o)),!((s+=o+1)>r));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function uo(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ho=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sr(t){if(!(e=ho.exec(t)))throw new Error("invalid format: "+t);var e;return new jr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sr.prototype=jr.prototype;function jr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mo(t){e:for(var e=t.length,n=1,r=-1,l;n<e;++n)switch(t[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(l+1):t}var El;function yo(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],l=n[1],i=l-(El=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+or(t,Math.max(0,e+i-1))[0]}function Ri(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const Ti={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:co,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ri(t*100,e),r:Ri,s:yo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Si(t){return t}var Ni=Array.prototype.map,Di=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function go(t){var e=t.grouping===void 0||t.thousands===void 0?Si:fo(Ni.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Si:uo(Ni.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function f(m){m=sr(m);var g=m.fill,_=m.align,I=m.sign,S=m.symbol,H=m.zero,q=m.width,w=m.comma,A=m.precision,y=m.trim,P=m.type;P==="n"?(w=!0,P="g"):Ti[P]||(A===void 0&&(A=12),y=!0,P="g"),(H||g==="0"&&_==="=")&&(H=!0,g="0",_="=");var N=S==="$"?n:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",D=S==="$"?r:/[%p]/.test(P)?a:"",L=Ti[P],b=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function E(M){var T=N,R=D,O,z,F;if(P==="c")R=L(M)+R,M="";else{M=+M;var Q=M<0||1/M<0;if(M=isNaN(M)?s:L(Math.abs(M),A),y&&(M=mo(M)),Q&&+M==0&&I!=="+"&&(Q=!1),T=(Q?I==="("?I:o:I==="-"||I==="("?"":I)+T,R=(P==="s"?Di[8+El/3]:"")+R+(Q&&I==="("?")":""),b){for(O=-1,z=M.length;++O<z;)if(F=M.charCodeAt(O),48>F||F>57){R=(F===46?l+M.slice(O+1):M.slice(O))+R,M=M.slice(0,O);break}}}w&&!H&&(M=e(M,1/0));var W=T.length+M.length+R.length,K=W<q?new Array(q-W+1).join(g):"";switch(w&&H&&(M=e(K+M,K.length?q-R.length:1/0),K=""),_){case"<":M=T+M+R+K;break;case"=":M=T+K+M+R;break;case"^":M=K.slice(0,W=K.length>>1)+T+M+R+K.slice(W);break;default:M=K+T+M+R;break}return i(M)}return E.toString=function(){return m+""},E}function u(m,g){var _=f((m=sr(m),m.type="f",m)),I=Math.max(-8,Math.min(8,Math.floor(En(g)/3)))*3,S=Math.pow(10,-I),H=Di[8+I/3];return function(q){return _(S*q)+H}}return{format:f,formatPrefix:u}}var Gn,cr,Il;po({thousands:",",grouping:[3],currency:["$",""]});function po(t){return Gn=go(t),cr=Gn.format,Il=Gn.formatPrefix,Gn}function _o(t){return Math.max(0,-En(Math.abs(t)))}function wo(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(En(e)/3)))*3-En(Math.abs(t)))}function bo(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,En(e)-En(t))+1}function Ml(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vo(t){return function(){return t}}function ko(t){return+t}var zi=[0,1];function zt(t){return t}function zr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vo(isNaN(e)?NaN:.5)}function xo(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Eo(t,e,n){var r=t[0],l=t[1],i=e[0],a=e[1];return l<r?(r=zr(l,r),i=n(a,i)):(r=zr(r,l),i=n(i,a)),function(o){return i(r(o))}}function Io(t,e,n){var r=Math.min(t.length,e.length)-1,l=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)l[a]=zr(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(o){var s=Pa(t,o,1,r)-1;return i[s](l[s](o))}}function Rl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tl(){var t=zi,e=zi,n=Vr,r,l,i,a=zt,o,s,f;function u(){var g=Math.min(t.length,e.length);return a!==zt&&(a=xo(t[0],t[g-1])),o=g>2?Io:Eo,s=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(s||(s=o(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(l((f||(f=o(e,t.map(r),ar)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,ko),u()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),u()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=oo,u()},m.clamp=function(g){return arguments.length?(a=g?!0:zt,u()):a!==zt},m.interpolate=function(g){return arguments.length?(n=g,u()):n},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,_){return r=g,l=_,u()}}function Mo(){return Tl()(zt,zt)}function Ro(t,e,n,r){var l=Va(t,e,n),i;switch(r=sr(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=wo(l,a))&&(r.precision=i),Il(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=bo(l,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=_o(l))&&(r.precision=i-(r.type==="%")*2);break}}return cr(r)}function Sl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Wa(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var l=e();return Ro(l[0],l[l.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),l=0,i=r.length-1,a=r[l],o=r[i],s,f,u=10;for(o<a&&(f=a,a=o,o=f,f=l,l=i,i=f);u-- >0;){if(f=wl(a,o,n),f===s)return r[l]=a,r[i]=o,e(r);if(f>0)a=Math.floor(a/f)*f,o=Math.ceil(o/f)*f;else if(f<0)a=Math.ceil(a*f)/f,o=Math.floor(o*f)/f;else break;s=f}return t},t}function Qn(){var t=Mo();return t.copy=function(){return Rl(t,Qn())},Ml.apply(t,arguments),Sl(t)}function Ai(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function To(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function So(t){return t<0?-t*t:t*t}function No(t){var e=t(zt,zt),n=1;function r(){return n===1?t(zt,zt):n===.5?t(To,So):t(Ai(n),Ai(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,r()):n},Sl(e)}function Nl(){var t=No(Tl());return t.copy=function(){return Rl(t,Nl()).exponent(t.exponent())},Ml.apply(t,arguments),t}function Do(){return Nl.apply(null,arguments).exponent(.5)}function _n(t){return function(){return t}}function zo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dl(t){this._context=t}Dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zl(t){return new Dl(t)}function Ao(t){return t[0]}function Po(t){return t[1]}function Wo(t,e){var n=_n(!0),r=null,l=zl,i=null;t=typeof t=="function"?t:t===void 0?Ao:_n(t),e=typeof e=="function"?e:e===void 0?Po:_n(e);function a(o){var s,f=(o=zo(o)).length,u,m=!1,g;for(r==null&&(i=l(g=xl())),s=0;s<=f;++s)!(s<f&&n(u=o[s],s,o))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(u,s,o),+e(u,s,o));if(g)return i=null,g+""||null}return a.x=function(o){return arguments.length?(t=typeof o=="function"?o:_n(+o),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:_n(+o),a):e},a.defined=function(o){return arguments.length?(n=typeof o=="function"?o:_n(!!o),a):n},a.curve=function(o){return arguments.length?(l=o,r!=null&&(i=l(r)),a):l},a.context=function(o){return arguments.length?(o==null?r=i=null:i=l(r=o),a):r},a}function vn(t,e,n){this.k=t,this.x=e,this.y=n}vn.prototype={constructor:vn,scale:function(t){return t===1?this:new vn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new vn(1,0,0);vn.prototype;function Vo(t){return t===0?!0:t}function nn(t){return Vo(t)?Array.isArray(t)?e=>t.map(n=>typeof n!="function"?e[n]:n(e)):typeof t!="function"?e=>e[t]:t:null}function jo(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":r,"1":l}=n;Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:l})}return e}function br(t,e={}){return jo(Object.entries(t).filter(([n,r])=>r!==void 0&&e[n]===void 0))}function qo(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},l=Object.keys(e),i=l.length;let a,o,s,f,u,m,g;const _=t.length;for(a=0;a<i;a+=1){for(g=new Set,f=l[a],u=e[f],o=0;o<_;o+=1)if(m=u(t[o]),Array.isArray(m)){const S=m.length;for(s=0;s<S;s+=1)g.add(m[s])}else g.add(m);const I=Array.from(g);r[f]=n===!0?I.sort():I}return r}function Lo(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),l=r.length;let i,a,o,s,f,u,m,g;const _=t.length;for(i=0;i<l;i+=1){for(s=r[i],m=e[s],f=null,u=null,a=0;a<_;a+=1)if(g=m(t[a]),Array.isArray(g)){const I=g.length;for(o=0;o<I;o+=1)g[o]!==!1&&g[o]!==void 0&&g[o]!==null&&Number.isNaN(g[o])===!1&&((f===null||g[o]<f)&&(f=g[o]),(u===null||g[o]>u)&&(u=g[o]))}else g!==!1&&g!==void 0&&g!==null&&Number.isNaN(g)===!1&&((f===null||g<f)&&(f=g),(u===null||g>u)&&(u=g));n[s]=[f,u]}return n}function Ho(t){return typeof t.bandwidth=="function"||Co(Object.keys(t),["domain","range","unknown","copy"])?"ordinal":"other"}function Co(t,e){return t.length!==e.length?!1:t.every(n=>e.includes(n))}function Oo(t,e,n){const r=Object.keys(n).reduce((i,a)=>{const o=Ho(n[a]);return i[o]||(i[o]={}),i[o][a]=e[a],i},{ordinal:!1,other:!1});let l={};return r.ordinal&&(l=qo(t,r.ordinal)),r.other&&(l={...l,...Lo(t,r.other)}),l}function Bo(t=[],e){return Array.isArray(e)===!0?e.map((n,r)=>n===null?t[r]:n):t}function Yn(t){return function([n,r]){return typeof r=="function"&&(r=r(n[t])),n?Bo(n[t],r):r}}const Sn={x:Qn,y:Qn,z:Qn,r:Do};function Go(t){return t.constant?"symlog":t.base?"log":t.exponent?t.exponent()===.5?"sqrt":"pow":"other"}function Pi(t){return t}function Yo(t){return e=>Math.log(t*e)}function Fo(t){return e=>t*Math.exp(e)}function Uo(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Xo(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Fn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Zo(t){const e=Go(t);if(e==="log"){const n=Math.sign(t.domain()[0]);return{lift:Yo(n),ground:Fo(n),scaleType:e}}return e==="pow"?{lift:Fn(1),ground:Fn(1/1),scaleType:e}:e==="sqrt"?{lift:Fn(.5),ground:Fn(1/.5),scaleType:e}:e==="symlog"?{lift:Uo(1),ground:Xo(1),scaleType:e}:{lift:Pi,ground:Pi,scaleType:e}}function Ko(t,e){if(typeof t.range!="function")throw new Error("Scale method `range` must be a function");if(typeof t.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();t.domain().length!==2&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),t.range().length!==2&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=Zo(t),l=t.domain()[0],i=Object.prototype.toString.call(l)==="[object Date]",[a,o]=t.domain().map(_=>n(i?_.getTime():_)),[s,f]=t.range(),u=e[0]||0,m=e[1]||0,g=(o-a)/(Math.abs(f-s)-u-m);return[a-u*g,m*g+o].map(_=>r(i?new Date(_):_))}function Qo(t,e,n,r,l){let i,a;return l===!0?(i=0,a=100):(i=t==="r"?1:0,a=t==="y"?n:t==="r"?25:e),r===!0?[a,i]:[i,a]}function Jo(t,e,n,r,l,i){return l?typeof l=="function"?l({width:e,height:n}):l:Qo(t,e,n,r,i)}function Un(t){return function([n,r,l,i,a,o,s,f,u,m]){if(r===null)return null;const g=Jo(t,s,f,o,u,m),_=n===Sn[t]?n():n.copy();return _.domain(l),(!_.interpolator||typeof _.interpolator=="function"&&_.interpolator().name.startsWith("identity"))&&_.range(g),i&&_.domain(Ko(_,i)),a===!0&&(typeof _.nice=="function"?_.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),_}}function Xn([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map(l=>e(l)):e(r)}}function Zn([t]){if(typeof t=="function"){if(typeof t.range=="function")return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const $o=t=>({element:t[0]&4,width:t[0]&256,height:t[0]&512,aspectRatio:t[0]&1024,containerWidth:t[0]&128,containerHeight:t[0]&64}),Wi=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function Vi(t){let e,n,r;const l=t[90].default,i=$n(l,t,t[89],Wi);return{c(){e=v("div"),i&&i.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);i&&i.l(o),o.forEach(d),this.h()},h(){c(e,"class","layercake-container svelte-w5m4wa"),Be(()=>t[92].call(e)),le(e,"position",t[5],!1),le(e,"top",t[5]==="absolute"?"0":null,!1),le(e,"right",t[5]==="absolute"?"0":null,!1),le(e,"bottom",t[5]==="absolute"?"0":null,!1),le(e,"left",t[5]==="absolute"?"0":null,!1),le(e,"pointer-events",t[4]===!1?"none":null,!1)},m(a,o){C(a,e,o),i&&i.m(e,null),t[91](e),n=Nn(e,t[92].bind(e)),r=!0},p(a,o){i&&i.p&&(!r||o[0]&1988|o[2]&134217728)&&er(i,l,a,a[89],r?nr(l,a[89],o,$o):tr(a[89]),Wi),o[0]&32&&le(e,"position",a[5],!1),o[0]&32&&le(e,"top",a[5]==="absolute"?"0":null,!1),o[0]&32&&le(e,"right",a[5]==="absolute"?"0":null,!1),o[0]&32&&le(e,"bottom",a[5]==="absolute"?"0":null,!1),o[0]&32&&le(e,"left",a[5]==="absolute"?"0":null,!1),o[0]&16&&le(e,"pointer-events",a[4]===!1?"none":null,!1)},i(a){r||(G(i,a),r=!0)},o(a){Z(i,a),r=!1},d(a){a&&d(e),i&&i.d(a),t[91](null),n()}}}function es(t){let e,n,r=(t[3]===!0||typeof window<"u")&&Vi(t);return{c(){r&&r.c(),e=ce()},l(l){r&&r.l(l),e=ce()},m(l,i){r&&r.m(l,i),C(l,e,i),n=!0},p(l,i){l[3]===!0||typeof window<"u"?r?(r.p(l,i),i[0]&8&&G(r,1)):(r=Vi(l),r.c(),G(r,1),r.m(e.parentNode,e)):r&&($e(),Z(r,1,1,()=>{r=null}),et())},i(l){n||(G(r),n=!0)},o(l){Z(r),n=!1},d(l){r&&r.d(l),l&&d(e)}}}function ts(t,e,n){let r,l,i,a,o,s,f,u,m,g,_,I,S,H,q,w,A,y,P,N,D,L,b,E,M,T,R,O,z,F,Q,W,K,B,ee,se,te,oe,Le,Te,Ze,{$$slots:Se={},$$scope:pt}=e,{ssr:He=!1}=e,{pointerEvents:ne=!0}=e,{position:fe="relative"}=e,{percentRange:Ne=!1}=e,{width:Pe=void 0}=e,{height:We=void 0}=e,{containerWidth:ke=Pe||100}=e,{containerHeight:tt=We||100}=e,{element:ft=void 0}=e,{x:ut=void 0}=e,{y:we=void 0}=e,{z:Ge=void 0}=e,{r:it=void 0}=e,{data:Ye=[]}=e,{xDomain:lt=void 0}=e,{yDomain:Ke=void 0}=e,{zDomain:_t=void 0}=e,{rDomain:vt=void 0}=e,{xNice:Bt=!1}=e,{yNice:kt=!1}=e,{zNice:Pt=!1}=e,{rNice:Gt=!1}=e,{xPadding:xt=void 0}=e,{yPadding:Wt=void 0}=e,{zPadding:Yt=void 0}=e,{rPadding:Et=void 0}=e,{xScale:Vt=Sn.x}=e,{yScale:jt=Sn.y}=e,{zScale:Ft=Sn.z}=e,{rScale:Ut=Sn.r}=e,{xRange:nt=void 0}=e,{yRange:It=void 0}=e,{zRange:ht=void 0}=e,{rRange:at=void 0}=e,{xReverse:Xt=!1}=e,{yReverse:De=typeof jt.bandwidth!="function"}=e,{zReverse:Zt=!1}=e,{rReverse:an=!1}=e,{padding:xe={}}=e,{extents:Ee={}}=e,{flatData:Ie=void 0}=e,{custom:Me={}}=e,ze=!1;Ar(()=>{ze=!0});const ue={},dt=ie(Ne);J(t,dt,p=>n(128,oe=p));const Ce=ie(ke);J(t,Ce,p=>n(7,te=p));const ve=ie(tt);J(t,ve,p=>n(6,se=p));const Re=ie(br(Ee));J(t,Re,p=>n(127,ee=p));const on=ie(Ye);J(t,on,p=>n(126,B=p));const Mt=ie(Ie||Ye);J(t,Mt,p=>n(125,K=p));const Qe=ie(xe);J(t,Qe,p=>n(124,W=p));const Y=ie(nn(ut));J(t,Y,p=>n(123,Q=p));const $=ie(nn(we));J(t,$,p=>n(122,F=p));const Ve=ie(nn(Ge));J(t,Ve,p=>n(121,z=p));const rt=ie(nn(it));J(t,rt,p=>n(120,O=p));const Rt=ie(lt);J(t,Rt,p=>n(119,R=p));const sn=ie(Ke);J(t,sn,p=>n(118,T=p));const qt=ie(_t);J(t,qt,p=>n(117,M=p));const Lt=ie(vt);J(t,Lt,p=>n(116,E=p));const Kt=ie(Bt);J(t,Kt,p=>n(115,b=p));const Tt=ie(kt);J(t,Tt,p=>n(114,L=p));const yt=ie(Pt);J(t,yt,p=>n(113,D=p));const Je=ie(Gt);J(t,Je,p=>n(112,N=p));const je=ie(Xt);J(t,je,p=>n(111,P=p));const Qt=ie(De);J(t,Qt,p=>n(110,y=p));const Jt=ie(Zt);J(t,Jt,p=>n(109,A=p));const St=ie(an);J(t,St,p=>n(108,w=p));const gt=ie(xt);J(t,gt,p=>n(107,q=p));const Nt=ie(Wt);J(t,Nt,p=>n(106,H=p));const qe=ie(Yt);J(t,qe,p=>n(105,S=p));const $t=ie(Et);J(t,$t,p=>n(104,I=p));const cn=ie(nt);J(t,cn,p=>n(103,_=p));const fn=ie(It);J(t,fn,p=>n(102,g=p));const qn=ie(ht);J(t,qn,p=>n(101,m=p));const Ln=ie(at);J(t,Ln,p=>n(100,u=p));const In=ie(Vt);J(t,In,p=>n(99,f=p));const Mn=ie(jt);J(t,Mn,p=>n(98,s=p));const Rn=ie(Ft);J(t,Rn,p=>n(97,o=p));const Tn=ie(Ut);J(t,Tn,p=>n(96,a=p));const Hn=ie(ue);J(t,Hn,p=>n(94,l=p));const Cn=ie(Me);J(t,Cn,p=>n(95,i=p));const qr=Ae([Y,$,Ve,rt],([p,Ct,Dt,Oe])=>{const un={};return p&&(un.x=p),Ct&&(un.y=Ct),Dt&&(un.z=Dt),Oe&&(un.r=Oe),un}),Lr=Ae([Qe,Ce,ve],([p])=>Object.assign({top:0,right:0,bottom:0,left:0},p)),Hr=Ae([Ce,ve,Lr],([p,Ct,Dt])=>{const Oe={};return Oe.top=Dt.top,Oe.right=p-Dt.right,Oe.bottom=Ct-Dt.bottom,Oe.left=Dt.left,Oe.width=Oe.right-Oe.left,Oe.height=Oe.bottom-Oe.top,Oe.width<=0&&ze===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Oe.height<=0&&ze===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Oe}),en=Ae([Hr],([p])=>p.width);J(t,en,p=>n(8,Le=p));const tn=Ae([Hr],([p])=>p.height);J(t,tn,p=>n(9,Te=p));const Ht=Ae([Mt,qr,Re,In,Mn,Tn,Rn],([p,Ct,Dt,Oe,un,Ul,Xl])=>{const Zl={x:Oe,y:un,r:Ul,z:Xl},yr=br(Ct,Dt),Kl=Object.fromEntries(Object.keys(yr).map(gr=>[gr,Zl[gr]]));return Object.keys(yr).length>0?{...Oo(p,yr,Kl),...Dt}:{}}),Cr=Ae([Ht,Rt],Yn("x")),Or=Ae([Ht,sn],Yn("y")),Br=Ae([Ht,qt],Yn("z")),Gr=Ae([Ht,Lt],Yn("r")),fr=Ae([In,Ht,Cr,gt,Kt,je,en,tn,cn,dt],Un("x")),jl=Ae([Y,fr],Xn),ur=Ae([Mn,Ht,Or,Nt,Tt,Qt,en,tn,fn,dt],Un("y")),ql=Ae([$,ur],Xn),hr=Ae([Rn,Ht,Br,qe,yt,Jt,en,tn,qn,dt],Un("z")),Ll=Ae([Ve,hr],Xn),dr=Ae([Tn,Ht,Gr,$t,Je,St,en,tn,Ln,dt],Un("r")),Hl=Ae([rt,dr],Xn),Cl=Ae([fr],Zn),Ol=Ae([ur],Zn),Bl=Ae([hr],Zn),Gl=Ae([dr],Zn),mr=Ae([en,tn],([p,Ct])=>p/Ct);J(t,mr,p=>n(10,Ze=p));function Yl(p){Ot[p?"unshift":"push"](()=>{ft=p,n(2,ft)})}function Fl(){ke=this.clientWidth,tt=this.clientHeight,n(0,ke),n(1,tt)}return t.$$set=p=>{"ssr"in p&&n(3,He=p.ssr),"pointerEvents"in p&&n(4,ne=p.pointerEvents),"position"in p&&n(5,fe=p.position),"percentRange"in p&&n(51,Ne=p.percentRange),"width"in p&&n(52,Pe=p.width),"height"in p&&n(53,We=p.height),"containerWidth"in p&&n(0,ke=p.containerWidth),"containerHeight"in p&&n(1,tt=p.containerHeight),"element"in p&&n(2,ft=p.element),"x"in p&&n(54,ut=p.x),"y"in p&&n(55,we=p.y),"z"in p&&n(56,Ge=p.z),"r"in p&&n(57,it=p.r),"data"in p&&n(58,Ye=p.data),"xDomain"in p&&n(59,lt=p.xDomain),"yDomain"in p&&n(60,Ke=p.yDomain),"zDomain"in p&&n(61,_t=p.zDomain),"rDomain"in p&&n(62,vt=p.rDomain),"xNice"in p&&n(63,Bt=p.xNice),"yNice"in p&&n(64,kt=p.yNice),"zNice"in p&&n(65,Pt=p.zNice),"rNice"in p&&n(66,Gt=p.rNice),"xPadding"in p&&n(67,xt=p.xPadding),"yPadding"in p&&n(68,Wt=p.yPadding),"zPadding"in p&&n(69,Yt=p.zPadding),"rPadding"in p&&n(70,Et=p.rPadding),"xScale"in p&&n(71,Vt=p.xScale),"yScale"in p&&n(72,jt=p.yScale),"zScale"in p&&n(73,Ft=p.zScale),"rScale"in p&&n(74,Ut=p.rScale),"xRange"in p&&n(75,nt=p.xRange),"yRange"in p&&n(76,It=p.yRange),"zRange"in p&&n(77,ht=p.zRange),"rRange"in p&&n(78,at=p.rRange),"xReverse"in p&&n(79,Xt=p.xReverse),"yReverse"in p&&n(80,De=p.yReverse),"zReverse"in p&&n(81,Zt=p.zReverse),"rReverse"in p&&n(82,an=p.rReverse),"padding"in p&&n(83,xe=p.padding),"extents"in p&&n(84,Ee=p.extents),"flatData"in p&&n(85,Ie=p.flatData),"custom"in p&&n(86,Me=p.custom),"$$scope"in p&&n(89,pt=p.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&8388608&&ut&&n(87,ue.x=ut,ue),t.$$.dirty[1]&16777216&&we&&n(87,ue.y=we,ue),t.$$.dirty[1]&33554432&&Ge&&n(87,ue.z=Ge,ue),t.$$.dirty[1]&67108864&&it&&n(87,ue.r=it,ue),t.$$.dirty[1]&268435456&&lt&&n(87,ue.xDomain=lt,ue),t.$$.dirty[1]&536870912&&Ke&&n(87,ue.yDomain=Ke,ue),t.$$.dirty[1]&1073741824&&_t&&n(87,ue.zDomain=_t,ue),t.$$.dirty[2]&1&&vt&&n(87,ue.rDomain=vt,ue),t.$$.dirty[2]&8192&&nt&&n(87,ue.xRange=nt,ue),t.$$.dirty[2]&16384&&It&&n(87,ue.yRange=It,ue),t.$$.dirty[2]&32768&&ht&&n(87,ue.zRange=ht,ue),t.$$.dirty[2]&65536&&at&&n(87,ue.rRange=at,ue),t.$$.dirty[1]&1048576&&re(dt,oe=Ne,oe),t.$$.dirty[0]&1&&re(Ce,te=ke,te),t.$$.dirty[0]&2&&re(ve,se=tt,se),t.$$.dirty[2]&4194304&&re(Re,ee=br(Ee),ee),t.$$.dirty[1]&134217728&&re(on,B=Ye,B),t.$$.dirty[1]&134217728|t.$$.dirty[2]&8388608&&re(Mt,K=Ie||Ye,K),t.$$.dirty[2]&2097152&&re(Qe,W=xe,W),t.$$.dirty[1]&8388608&&re(Y,Q=nn(ut),Q),t.$$.dirty[1]&16777216&&re($,F=nn(we),F),t.$$.dirty[1]&33554432&&re(Ve,z=nn(Ge),z),t.$$.dirty[1]&67108864&&re(rt,O=nn(it),O),t.$$.dirty[1]&268435456&&re(Rt,R=lt,R),t.$$.dirty[1]&536870912&&re(sn,T=Ke,T),t.$$.dirty[1]&1073741824&&re(qt,M=_t,M),t.$$.dirty[2]&1&&re(Lt,E=vt,E),t.$$.dirty[2]&2&&re(Kt,b=Bt,b),t.$$.dirty[2]&4&&re(Tt,L=kt,L),t.$$.dirty[2]&8&&re(yt,D=Pt,D),t.$$.dirty[2]&16&&re(Je,N=Gt,N),t.$$.dirty[2]&131072&&re(je,P=Xt,P),t.$$.dirty[2]&262144&&re(Qt,y=De,y),t.$$.dirty[2]&524288&&re(Jt,A=Zt,A),t.$$.dirty[2]&1048576&&re(St,w=an,w),t.$$.dirty[2]&32&&re(gt,q=xt,q),t.$$.dirty[2]&64&&re(Nt,H=Wt,H),t.$$.dirty[2]&128&&re(qe,S=Yt,S),t.$$.dirty[2]&256&&re($t,I=Et,I),t.$$.dirty[2]&8192&&re(cn,_=nt,_),t.$$.dirty[2]&16384&&re(fn,g=It,g),t.$$.dirty[2]&32768&&re(qn,m=ht,m),t.$$.dirty[2]&65536&&re(Ln,u=at,u),t.$$.dirty[2]&512&&re(In,f=Vt,f),t.$$.dirty[2]&1024&&re(Mn,s=jt,s),t.$$.dirty[2]&2048&&re(Rn,o=Ft,o),t.$$.dirty[2]&4096&&re(Tn,a=Ut,a),t.$$.dirty[2]&16777216&&re(Cn,i=Me,i),t.$$.dirty[2]&33554432&&re(Hn,l=ue,l),t.$$.dirty[2]&67108864&&xr("LayerCake",r)},n(88,r={activeGetters:qr,width:en,height:tn,percentRange:dt,aspectRatio:mr,containerWidth:Ce,containerHeight:ve,x:Y,y:$,z:Ve,r:rt,custom:Cn,data:on,xNice:Kt,yNice:Tt,zNice:yt,rNice:Je,xReverse:je,yReverse:Qt,zReverse:Jt,rReverse:St,xPadding:gt,yPadding:Nt,zPadding:qe,rPadding:$t,padding:Lr,flatData:Mt,extents:Ht,xDomain:Cr,yDomain:Or,zDomain:Br,rDomain:Gr,xRange:Cl,yRange:Ol,zRange:Bl,rRange:Gl,config:Hn,xScale:fr,xGet:jl,yScale:ur,yGet:ql,zScale:hr,zGet:Ll,rScale:dr,rGet:Hl}),[ke,tt,ft,He,ne,fe,se,te,Le,Te,Ze,dt,Ce,ve,Re,on,Mt,Qe,Y,$,Ve,rt,Rt,sn,qt,Lt,Kt,Tt,yt,Je,je,Qt,Jt,St,gt,Nt,qe,$t,cn,fn,qn,Ln,In,Mn,Rn,Tn,Hn,Cn,en,tn,mr,Ne,Pe,We,ut,we,Ge,it,Ye,lt,Ke,_t,vt,Bt,kt,Pt,Gt,xt,Wt,Yt,Et,Vt,jt,Ft,Ut,nt,It,ht,at,Xt,De,Zt,an,xe,Ee,Ie,Me,ue,r,pt,Se,Yl,Fl]}class ji extends Fe{constructor(e){super(),Ue(this,e,ts,es,Xe,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xPadding:67,yPadding:68,zPadding:69,rPadding:70,xScale:71,yScale:72,zScale:73,rScale:74,xRange:75,yRange:76,zRange:77,rRange:78,xReverse:79,yReverse:80,zReverse:81,rReverse:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const ns=t=>({element:t&1}),qi=t=>({element:t[0]}),rs=t=>({element:t&1}),Li=t=>({element:t[0]});function is(t){let e,n,r,l,i;const a=t[12].defs,o=$n(a,t,t[11],Li),s=t[12].default,f=$n(s,t,t[11],qi);return{c(){e=ge("svg"),n=ge("defs"),o&&o.c(),r=ge("g"),f&&f.c(),this.h()},l(u){e=pe(u,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var m=x(e);n=pe(m,"defs",{});var g=x(n);o&&o.l(g),g.forEach(d),r=pe(m,"g",{class:!0,transform:!0});var _=x(r);f&&f.l(_),_.forEach(d),m.forEach(d),this.h()},h(){c(r,"class","layercake-layout-svg_g"),c(r,"transform",l="translate("+t[7].left+", "+t[7].top+")"),c(e,"class","layercake-layout-svg svelte-17l4rdd"),c(e,"viewBox",t[4]),c(e,"width",t[5]),c(e,"height",t[6]),le(e,"z-index",t[2],!1),le(e,"pointer-events",t[3]===!1?"none":null,!1)},m(u,m){C(u,e,m),h(e,n),o&&o.m(n,null),h(e,r),f&&f.m(r,null),t[13](r),t[14](e),i=!0},p(u,[m]){o&&o.p&&(!i||m&2049)&&er(o,a,u,u[11],i?nr(a,u[11],m,rs):tr(u[11]),Li),f&&f.p&&(!i||m&2049)&&er(f,s,u,u[11],i?nr(s,u[11],m,ns):tr(u[11]),qi),(!i||m&128&&l!==(l="translate("+u[7].left+", "+u[7].top+")"))&&c(r,"transform",l),(!i||m&16)&&c(e,"viewBox",u[4]),(!i||m&32)&&c(e,"width",u[5]),(!i||m&64)&&c(e,"height",u[6]),m&4&&le(e,"z-index",u[2],!1),m&8&&le(e,"pointer-events",u[3]===!1?"none":null,!1)},i(u){i||(G(o,u),G(f,u),i=!0)},o(u){Z(o,u),Z(f,u),i=!1},d(u){u&&d(e),o&&o.d(u),f&&f.d(u),t[13](null),t[14](null)}}}function ls(t,e,n){let r,l,i,{$$slots:a={},$$scope:o}=e,{element:s=void 0}=e,{innerElement:f=void 0}=e,{zIndex:u=void 0}=e,{pointerEvents:m=void 0}=e,{viewBox:g=void 0}=e;const{containerWidth:_,containerHeight:I,padding:S}=Vn("LayerCake");J(t,_,w=>n(5,r=w)),J(t,I,w=>n(6,l=w)),J(t,S,w=>n(7,i=w));function H(w){Ot[w?"unshift":"push"](()=>{f=w,n(1,f)})}function q(w){Ot[w?"unshift":"push"](()=>{s=w,n(0,s)})}return t.$$set=w=>{"element"in w&&n(0,s=w.element),"innerElement"in w&&n(1,f=w.innerElement),"zIndex"in w&&n(2,u=w.zIndex),"pointerEvents"in w&&n(3,m=w.pointerEvents),"viewBox"in w&&n(4,g=w.viewBox),"$$scope"in w&&n(11,o=w.$$scope)},[s,f,u,m,g,r,l,i,_,I,S,o,a,H,q]}class Al extends Fe{constructor(e){super(),Ue(this,e,ls,is,Xe,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function as(t){let e;return{c(){e=ge("path"),this.h()},l(n){e=pe(n,"path",{d:!0,stroke:!0,class:!0}),x(e).forEach(d),this.h()},h(){c(e,"d",t[1]),c(e,"stroke",t[0]),c(e,"class","svelte-td8wiw")},m(n,r){C(n,e,r)},p(n,[r]){r&2&&c(e,"d",n[1]),r&1&&c(e,"stroke",n[0])},i:_e,o:_e,d(n){n&&d(e)}}}function os(t,e,n){let r,l,i,a,o;const{data:s,xGet:f,yGet:u}=Vn("LayerCake");J(t,s,_=>n(7,i=_)),J(t,f,_=>n(9,o=_)),J(t,u,_=>n(8,a=_));let{stroke:m="#ccc"}=e,{curve:g=zl}=e;return t.$$set=_=>{"stroke"in _&&n(0,m=_.stroke),"curve"in _&&n(5,g=_.curve)},t.$$.update=()=>{t.$$.dirty&800&&n(6,r=Wo().x(o).y(a).curve(g)),t.$$.dirty&192&&n(1,l=r(i))},[m,l,s,f,u,g,r,i,a,o]}class Pl extends Fe{constructor(e){super(),Ue(this,e,os,as,Xe,{stroke:0,curve:5})}}function Hi(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Ci(t){let e,n;return{c(){e=ge("line"),this.h()},l(r){e=pe(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(d),this.h()},h(){c(e,"class","gridline svelte-nx1fw1"),c(e,"y1",n=t[9]*-1),c(e,"y2","0"),c(e,"x1","0"),c(e,"x2","0")},m(r,l){C(r,e,l)},p(r,l){l&512&&n!==(n=r[9]*-1)&&c(e,"y1",n)},d(r){r&&d(e)}}}function Oi(t){let e;return{c(){e=ge("line"),this.h()},l(n){e=pe(n,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(d),this.h()},h(){c(e,"class","tick-mark svelte-nx1fw1"),c(e,"y1",0),c(e,"y2",6),c(e,"x1",0),c(e,"x2",0)},m(n,r){C(n,e,r)},d(n){n&&d(e)}}}function Bi(t){let e,n,r,l=t[5](t[17])+"",i,a,o=t[0]!==!1&&Ci(t),s=t[1]===!0&&Oi();return{c(){e=ge("g"),o&&o.c(),n=ce(),s&&s.c(),r=ge("text"),i=V(l),this.h()},l(f){e=pe(f,"g",{class:!0,transform:!0});var u=x(e);o&&o.l(u),n=ce(),s&&s.l(u),r=pe(u,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var m=x(r);i=j(m,l),m.forEach(d),u.forEach(d),this.h()},h(){c(r,"x",0),c(r,"y",t[4]),c(r,"dx",""),c(r,"dy",""),c(r,"text-anchor",t[15](t[19])),c(r,"class","svelte-nx1fw1"),c(e,"class","tick tick-"+t[19]+" svelte-nx1fw1"),c(e,"transform",a="translate("+t[6](t[17])+","+t[8][0]+")")},m(f,u){C(f,e,u),o&&o.m(e,null),h(e,n),s&&s.m(e,null),h(e,r),h(r,i)},p(f,u){f[0]!==!1?o?o.p(f,u):(o=Ci(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),f[1]===!0?s||(s=Oi(),s.c(),s.m(e,r)):s&&(s.d(1),s=null),u&160&&l!==(l=f[5](f[17])+"")&&ae(i,l),u&16&&c(r,"y",f[4]),u&448&&a!==(a="translate("+f[6](f[17])+","+f[8][0]+")")&&c(e,"transform",a)},d(f){f&&d(e),o&&o.d(),s&&s.d()}}}function Gi(t){let e,n,r;return{c(){e=ge("line"),this.h()},l(l){e=pe(l,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(d),this.h()},h(){c(e,"class","baseline svelte-nx1fw1"),c(e,"y1",n=t[9]+.5),c(e,"y2",r=t[9]+.5),c(e,"x1","0"),c(e,"x2",t[10])},m(l,i){C(l,e,i)},p(l,i){i&512&&n!==(n=l[9]+.5)&&c(e,"y1",n),i&512&&r!==(r=l[9]+.5)&&c(e,"y2",r),i&1024&&c(e,"x2",l[10])},d(l){l&&d(e)}}}function ss(t){let e,n,r=t[7],l=[];for(let a=0;a<r.length;a+=1)l[a]=Bi(Hi(t,r,a));let i=t[2]===!0&&Gi(t);return{c(){e=ge("g");for(let a=0;a<l.length;a+=1)l[a].c();n=ce(),i&&i.c(),this.h()},l(a){e=pe(a,"g",{class:!0});var o=x(e);for(let s=0;s<l.length;s+=1)l[s].l(o);n=ce(),i&&i.l(o),o.forEach(d),this.h()},h(){c(e,"class","axis x-axis svelte-nx1fw1"),xn(e,"snapTicks",t[3])},m(a,o){C(a,e,o);for(let s=0;s<l.length;s+=1)l[s].m(e,null);h(e,n),i&&i.m(e,null)},p(a,[o]){if(o&33779){r=a[7];let s;for(s=0;s<r.length;s+=1){const f=Hi(a,r,s);l[s]?l[s].p(f,o):(l[s]=Bi(f),l[s].c(),l[s].m(e,n))}for(;s<l.length;s+=1)l[s].d(1);l.length=r.length}a[2]===!0?i?i.p(a,o):(i=Gi(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null),o&8&&xn(e,"snapTicks",a[3])},i:_e,o:_e,d(a){a&&d(e),st(l,a),i&&i.d()}}}function cs(t,e,n){let r,l,i,a,o;const{width:s,height:f,xScale:u,yRange:m}=Vn("LayerCake");J(t,s,y=>n(10,o=y)),J(t,f,y=>n(9,a=y)),J(t,u,y=>n(6,l=y)),J(t,m,y=>n(8,i=y));let{gridlines:g=!0}=e,{tickMarks:_=!1}=e,{baseline:I=!1}=e,{snapTicks:S=!1}=e,{yTick:H=16}=e,{formatTick:q=y=>y}=e,{ticks:w=void 0}=e;const A=y=>{if(S===!0){if(y===0)return"start";if(y===r.length-1)return"end"}return"middle"};return t.$$set=y=>{"gridlines"in y&&n(0,g=y.gridlines),"tickMarks"in y&&n(1,_=y.tickMarks),"baseline"in y&&n(2,I=y.baseline),"snapTicks"in y&&n(3,S=y.snapTicks),"yTick"in y&&n(4,H=y.yTick),"formatTick"in y&&n(5,q=y.formatTick),"ticks"in y&&n(16,w=y.ticks)},t.$$.update=()=>{t.$$.dirty&65600&&n(7,r=Array.isArray(w)?w:typeof w=="function"?w(l.ticks()):l.ticks(w))},[g,_,I,S,H,q,l,r,i,a,o,s,f,u,m,A,w]}class Wl extends Fe{constructor(e){super(),Ue(this,e,cs,ss,Xe,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,yTick:4,formatTick:5,ticks:16})}}function Yi(t,e,n){const r=t.slice();return r[17]=e[n],r}function fs(t){let e,n,r=t[8](t[17])+"",l;return{c(){e=ge("line"),n=ge("text"),l=V(r),this.h()},l(i){e=pe(i,"line",{class:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(d),n=pe(i,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var a=x(n);l=j(a,r),a.forEach(d),this.h()},h(){c(e,"class","gridline svelte-10stm3h"),c(e,"x2","100%"),c(e,"y1",t[4]),c(e,"y2",t[4]),c(n,"x",t[3]),c(n,"y",t[4]),c(n,"dx",t[5]),c(n,"dy",t[6]),le(n,"text-anchor",t[7]),c(n,"class","svelte-10stm3h")},m(i,a){C(i,e,a),C(i,n,a),h(n,l)},p(i,a){a&16&&c(e,"y1",i[4]),a&16&&c(e,"y2",i[4]),a&1280&&r!==(r=i[8](i[17])+"")&&ae(l,r),a&8&&c(n,"x",i[3]),a&16&&c(n,"y",i[4]),a&32&&c(n,"dx",i[5]),a&64&&c(n,"dy",i[6]),a&128&&le(n,"text-anchor",i[7])},d(i){i&&d(e),i&&d(n)}}}function us(t){let e,n,r=t[8](t[17])+"",l;return{c(){e=ge("line"),n=ge("text"),l=V(r),this.h()},l(i){e=pe(i,"line",{class:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(d),n=pe(i,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var a=x(n);l=j(a,r),a.forEach(d),this.h()},h(){c(e,"class","gridline baseTick svelte-10stm3h"),c(e,"x2","100%"),c(e,"y1",t[4]),c(e,"y2",t[4]),c(n,"x",t[3]),c(n,"y",t[4]),c(n,"dx",t[5]),c(n,"dy",t[6]),le(n,"text-anchor",t[7]),c(n,"class","baseTickWord svelte-10stm3h")},m(i,a){C(i,e,a),C(i,n,a),h(n,l)},p(i,a){a&16&&c(e,"y1",i[4]),a&16&&c(e,"y2",i[4]),a&1280&&r!==(r=i[8](i[17])+"")&&ae(l,r),a&8&&c(n,"x",i[3]),a&16&&c(n,"y",i[4]),a&32&&c(n,"dx",i[5]),a&64&&c(n,"dy",i[6]),a&128&&le(n,"text-anchor",i[7])},d(i){i&&d(e),i&&d(n)}}}function Fi(t){let e;return{c(){e=ge("line"),this.h()},l(n){e=pe(n,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(d),this.h()},h(){c(e,"class","tick-mark svelte-10stm3h"),c(e,"x1","0"),c(e,"x2",6),c(e,"y1",t[4]),c(e,"y2",t[4])},m(n,r){C(n,e,r)},p(n,r){r&16&&c(e,"y1",n[4]),r&16&&c(e,"y2",n[4])},d(n){n&&d(e)}}}function Ui(t){let e,n,r,l;function i(f,u){return f[17]==f[2]&&f[0]!==!1?us:fs}let a=i(t),o=a(t),s=t[1]===!0&&Fi(t);return{c(){e=ge("g"),o.c(),n=ce(),s&&s.c(),this.h()},l(f){e=pe(f,"g",{class:!0,transform:!0});var u=x(e);o.l(u),n=ce(),s&&s.l(u),u.forEach(d),this.h()},h(){c(e,"class",r="tick tick-"+t[17]+" svelte-10stm3h"),c(e,"transform",l="translate("+t[12][0]+", "+t[9](t[17])+")")},m(f,u){C(f,e,u),o.m(e,null),h(e,n),s&&s.m(e,null)},p(f,u){a===(a=i(f))&&o?o.p(f,u):(o.d(1),o=a(f),o&&(o.c(),o.m(e,n))),f[1]===!0?s?s.p(f,u):(s=Fi(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u&1024&&r!==(r="tick tick-"+f[17]+" svelte-10stm3h")&&c(e,"class",r),u&5632&&l!==(l="translate("+f[12][0]+", "+f[9](f[17])+")")&&c(e,"transform",l)},d(f){f&&d(e),o.d(),s&&s.d()}}}function hs(t){let e,n,r=t[10],l=[];for(let i=0;i<r.length;i+=1)l[i]=Ui(Yi(t,r,i));return{c(){e=ge("g");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=pe(i,"g",{class:!0,transform:!0});var a=x(e);for(let o=0;o<l.length;o+=1)l[o].l(a);a.forEach(d),this.h()},h(){c(e,"class","axis y-axis"),c(e,"transform",n="translate("+-t[11].left+", 0)")},m(i,a){C(i,e,a);for(let o=0;o<l.length;o+=1)l[o].m(e,null)},p(i,[a]){if(a&6143){r=i[10];let o;for(o=0;o<r.length;o+=1){const s=Yi(i,r,o);l[o]?l[o].p(s,a):(l[o]=Ui(s),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}a&2048&&n!==(n="translate("+-i[11].left+", 0)")&&c(e,"transform",n)},i:_e,o:_e,d(i){i&&d(e),st(l,i)}}}function ds(t,e,n){let r,l,i,a;const{padding:o,xRange:s,yScale:f}=Vn("LayerCake");J(t,o,y=>n(11,i=y)),J(t,s,y=>n(12,a=y)),J(t,f,y=>n(9,l=y));let{gridlines:u=!0}=e,{tickMarks:m=!1}=e,{baseTick:g=100}=e,{xTick:_=0}=e,{yTick:I=0}=e,{dxTick:S=0}=e,{dyTick:H=-4}=e,{textAnchor:q="start"}=e,{formatTick:w=y=>y}=e,{ticks:A=4}=e;return t.$$set=y=>{"gridlines"in y&&n(0,u=y.gridlines),"tickMarks"in y&&n(1,m=y.tickMarks),"baseTick"in y&&n(2,g=y.baseTick),"xTick"in y&&n(3,_=y.xTick),"yTick"in y&&n(4,I=y.yTick),"dxTick"in y&&n(5,S=y.dxTick),"dyTick"in y&&n(6,H=y.dyTick),"textAnchor"in y&&n(7,q=y.textAnchor),"formatTick"in y&&n(8,w=y.formatTick),"ticks"in y&&n(16,A=y.ticks)},t.$$.update=()=>{t.$$.dirty&66048&&n(10,r=Array.isArray(A)?A:typeof A=="function"?A(l.ticks()):l.ticks(A))},[u,m,g,_,I,S,H,q,w,l,r,i,a,o,s,f,A]}class Vl extends Fe{constructor(e){super(),Ue(this,e,ds,hs,Xe,{gridlines:0,tickMarks:1,baseTick:2,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7,formatTick:8,ticks:16})}}function Xi(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("Now my turn to win!"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"Now my turn to win!"),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function Zi(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("Let me win half the time!"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"Let me win half the time!"),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function Ki(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("I'm 1-1, but I lost money?"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"I'm 1-1, but I lost money?"),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function Qi(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("I've won 50%, but I lost money!?"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"I've won 50%, but I lost money!?"),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function Ji(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("When I lose, I have less to wager!"),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"When I lose, I have less to wager!"),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function ms(t){let e,n,r,l;return{c(){e=v("div"),n=V("Win"),this.h()},l(i){e=k(i,"DIV",{class:!0,player:!0});var a=x(e);n=j(a,"Win"),a.forEach(d),this.h()},h(){c(e,"class","winButton button winp1 svelte-1xjl5fk"),c(e,"player","p1")},m(i,a){C(i,e,a),h(e,n),r||(l=bt(e,"click",t[6]),r=!0)},p:_e,d(i){i&&d(e),r=!1,l()}}}function ys(t){let e,n,r,l;return{c(){e=v("div"),n=V("Win"),this.h()},l(i){e=k(i,"DIV",{class:!0,player:!0});var a=x(e);n=j(a,"Win"),a.forEach(d),this.h()},h(){c(e,"class","winButton button winp1 bounce svelte-1xjl5fk"),c(e,"player","p1")},m(i,a){C(i,e,a),h(e,n),r||(l=bt(e,"click",t[6]),r=!0)},p:_e,d(i){i&&d(e),r=!1,l()}}}function gs(t){let e,n,r,l,i,a;return e=new Vl({props:{formatTick:t[5],baseTick:"100"}}),r=new Wl({}),i=new Pl({props:{strokeWidth:"5",stroke:"#420070"}}),{c(){he(e.$$.fragment),n=U(),he(r.$$.fragment),l=U(),he(i.$$.fragment)},l(o){de(e.$$.fragment,o),n=X(o),de(r.$$.fragment,o),l=X(o),de(i.$$.fragment,o)},m(o,s){me(e,o,s),C(o,n,s),me(r,o,s),C(o,l,s),me(i,o,s),a=!0},p:_e,i(o){a||(G(e.$$.fragment,o),G(r.$$.fragment,o),G(i.$$.fragment,o),a=!0)},o(o){Z(e.$$.fragment,o),Z(r.$$.fragment,o),Z(i.$$.fragment,o),a=!1},d(o){ye(e,o),o&&d(n),ye(r,o),o&&d(l),ye(i,o)}}}function ps(t){let e,n;return e=new Al({props:{$$slots:{default:[gs]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,l){me(e,r,l),n=!0},p(r,l){const i={};l&512&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ye(e,r)}}}function $i(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("Click the win button."),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"Click the win button."),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function el(t){let e,n,r,l,i;return{c(){e=v("div"),n=V("This is unfair."),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=x(e);n=j(o,"This is unfair."),o.forEach(d),this.h()},h(){c(e,"class","speechBubble player1bubble svelte-1xjl5fk")},m(a,o){C(a,e,o),h(e,n),i=!0},i(a){i||(Be(()=>{l&&l.end(1),r=mt(e,be,{delay:0}),r.start()}),i=!0)},o(a){r&&r.invalidate(),l=ct(e,be,{}),i=!1},d(a){a&&d(e),a&&l&&l.end()}}}function _s(t){let e,n,r,l;return{c(){e=v("div"),n=V("Win"),this.h()},l(i){e=k(i,"DIV",{class:!0,player:!0});var a=x(e);n=j(a,"Win"),a.forEach(d),this.h()},h(){c(e,"class","winButton button winp2 svelte-1xjl5fk"),c(e,"player","p2")},m(i,a){C(i,e,a),h(e,n),r||(l=bt(e,"click",t[6]),r=!0)},p:_e,d(i){i&&d(e),r=!1,l()}}}function ws(t){let e,n,r,l;return{c(){e=v("div"),n=V("Win"),this.h()},l(i){e=k(i,"DIV",{class:!0,player:!0});var a=x(e);n=j(a,"Win"),a.forEach(d),this.h()},h(){c(e,"class","winButton button winp2 bounce svelte-1xjl5fk"),c(e,"player","p2")},m(i,a){C(i,e,a),h(e,n),r||(l=bt(e,"click",t[6]),r=!0)},p:_e,d(i){i&&d(e),r=!1,l()}}}function bs(t){let e,n,r,l,i,a;return e=new Vl({props:{formatTick:t[5],baseTick:"1000"}}),r=new Wl({}),i=new Pl({props:{strokeWidth:"5",stroke:"#420070"}}),{c(){he(e.$$.fragment),n=U(),he(r.$$.fragment),l=U(),he(i.$$.fragment)},l(o){de(e.$$.fragment,o),n=X(o),de(r.$$.fragment,o),l=X(o),de(i.$$.fragment,o)},m(o,s){me(e,o,s),C(o,n,s),me(r,o,s),C(o,l,s),me(i,o,s),a=!0},p:_e,i(o){a||(G(e.$$.fragment,o),G(r.$$.fragment,o),G(i.$$.fragment,o),a=!0)},o(o){Z(e.$$.fragment,o),Z(r.$$.fragment,o),Z(i.$$.fragment,o),a=!1},d(o){ye(e,o),o&&d(n),ye(r,o),o&&d(l),ye(i,o)}}}function vs(t){let e,n;return e=new Al({props:{$$slots:{default:[bs]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,l){me(e,r,l),n=!0},p(r,l){const i={};l&512&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ye(e,r)}}}function ks(t){let e,n,r,l,i,a,o=wn(t[3][0])+"",s,f,u,m,g=t[3][1]+"",_,I,S,H,q,w,A,y,P,N,D,L,b,E,M,T,R,O,z,F=wn(t[2].p1.wealth)+"",Q,W,K,B=t[2].p1.wins+"",ee,se,te=t[0]-t[2].p1.wins+"",oe,Le,Te=t[2].p1.rate+"",Ze,Se,pt,He,ne,fe,Ne,Pe,We,ke,tt,ft,ut,we,Ge,it,Ye,lt,Ke=wn(t[2].p2.wealth)+"",_t,vt,Bt,kt=t[2].p2.wins+"",Pt,Gt,xt=t[0]-t[2].p2.wins+"",Wt,Yt,Et=t[2].p2.rate+"",Vt,jt,Ft,Ut,nt,It,ht,at,Xt,De,Zt,an,xe=t[2].p1.wins==0&&t[2].p2.wins==1&&Xi(),Ee=t[2].p1.rate<45&&t[2].p1.latest=="lost"&&t[2].p2.wins>2&&Zi(),Ie=t[2].p1.wins==1&&t[2].p2.wins==1&&Ki(),Me=t[2].p1.rate==50&&t[2].p1.wins>1&&t[2].p1.wealth<t[2].p2.wealth&&Qi(),ze=t[2].p1.rate==50&&t[2].p1.wins>=5&&t[2].p1.wins<3&&t[2].p1.wealth<t[2].p2.wealth&&Ji();function ue(Y,$){return Y[2].p1.wins==0&&Y[2].p2.wins==1?ys:ms}let dt=ue(t),Ce=dt(t);ne=new ji({props:{data:t[2].p1.data,x:tl,y:nl,padding:t[4],xDomain:[0,t[1]],yDomain:[t[2].p1.minmax[0],t[2].p1.minmax[1]],$$slots:{default:[ps]},$$scope:{ctx:t}}});let ve=t[2].p1.wins==0&&t[2].p2.wins==0&&$i(),Re=t[2].p2.rate<45&&t[2].p2.latest=="lost"&&t[2].p1.wins>2&&t[2].p1.wins<8&&el();function on(Y,$){return Y[0]==0?ws:_s}let Mt=on(t),Qe=Mt(t);return nt=new ji({props:{data:t[2].p2.data,x:tl,y:nl,padding:t[4],xDomain:[0,t[1]],yDomain:[t[2].p2.minmax[0],t[2].p2.minmax[1]],$$slots:{default:[vs]},$$scope:{ctx:t}}}),{c(){e=v("div"),n=v("div"),r=v("div"),l=v("div"),i=V("Winner gets "),a=v("strong"),s=V(o),f=U(),u=v("div"),m=V("(20% of "),_=V(g),I=V("'s wealth)"),S=U(),H=v("div"),q=v("section"),w=v("figure"),A=v("div"),y=v("div"),xe&&xe.c(),P=U(),Ee&&Ee.c(),N=U(),Ie&&Ie.c(),D=U(),Me&&Me.c(),L=U(),ze&&ze.c(),E=U(),M=v("div"),T=v("strong"),R=V("Player 1"),O=U(),z=v("br"),Q=V(F),W=U(),K=v("br"),ee=V(B),se=V("-"),oe=V(te),Le=V(" ("),Ze=V(Te),Se=V("%)"),pt=U(),Ce.c(),He=U(),he(ne.$$.fragment),fe=U(),Ne=v("section"),Pe=v("figure"),We=v("div"),ke=v("div"),ve&&ve.c(),tt=U(),Re&&Re.c(),ut=U(),we=v("div"),Ge=v("strong"),it=V("Player 2"),Ye=U(),lt=v("br"),_t=V(Ke),vt=U(),Bt=v("br"),Pt=V(kt),Gt=V("-"),Wt=V(xt),Yt=V(" ("),Vt=V(Et),jt=V("%)"),Ft=U(),Qe.c(),Ut=U(),he(nt.$$.fragment),It=U(),ht=v("div"),at=v("div"),Xt=V("Reset"),this.h()},l(Y){e=k(Y,"DIV",{class:!0});var $=x(e);n=k($,"DIV",{class:!0});var Ve=x(n);r=k(Ve,"DIV",{class:!0});var rt=x(r);l=k(rt,"DIV",{class:!0});var Rt=x(l);i=j(Rt,"Winner gets "),a=k(Rt,"STRONG",{});var sn=x(a);s=j(sn,o),sn.forEach(d),f=X(Rt),u=k(Rt,"DIV",{class:!0});var qt=x(u);m=j(qt,"(20% of "),_=j(qt,g),I=j(qt,"'s wealth)"),qt.forEach(d),Rt.forEach(d),rt.forEach(d),S=X(Ve),H=k(Ve,"DIV",{class:!0});var Lt=x(H);q=k(Lt,"SECTION",{class:!0});var Kt=x(q);w=k(Kt,"FIGURE",{class:!0});var Tt=x(w);A=k(Tt,"DIV",{class:!0});var yt=x(A);y=k(yt,"DIV",{class:!0,style:!0});var Je=x(y);xe&&xe.l(Je),P=X(Je),Ee&&Ee.l(Je),N=X(Je),Ie&&Ie.l(Je),D=X(Je),Me&&Me.l(Je),L=X(Je),ze&&ze.l(Je),Je.forEach(d),E=X(yt),M=k(yt,"DIV",{class:!0});var je=x(M);T=k(je,"STRONG",{});var Qt=x(T);R=j(Qt,"Player 1"),Qt.forEach(d),O=X(je),z=k(je,"BR",{}),Q=j(je,F),W=X(je),K=k(je,"BR",{}),ee=j(je,B),se=j(je,"-"),oe=j(je,te),Le=j(je," ("),Ze=j(je,Te),Se=j(je,"%)"),je.forEach(d),pt=X(yt),Ce.l(yt),yt.forEach(d),He=X(Tt),de(ne.$$.fragment,Tt),Tt.forEach(d),Kt.forEach(d),fe=X(Lt),Ne=k(Lt,"SECTION",{class:!0});var Jt=x(Ne);Pe=k(Jt,"FIGURE",{class:!0});var St=x(Pe);We=k(St,"DIV",{class:!0});var gt=x(We);ke=k(gt,"DIV",{class:!0,style:!0});var Nt=x(ke);ve&&ve.l(Nt),tt=X(Nt),Re&&Re.l(Nt),Nt.forEach(d),ut=X(gt),we=k(gt,"DIV",{class:!0});var qe=x(we);Ge=k(qe,"STRONG",{});var $t=x(Ge);it=j($t,"Player 2"),$t.forEach(d),Ye=X(qe),lt=k(qe,"BR",{}),_t=j(qe,Ke),vt=X(qe),Bt=k(qe,"BR",{}),Pt=j(qe,kt),Gt=j(qe,"-"),Wt=j(qe,xt),Yt=j(qe," ("),Vt=j(qe,Et),jt=j(qe,"%)"),qe.forEach(d),Ft=X(gt),Qe.l(gt),gt.forEach(d),Ut=X(St),de(nt.$$.fragment,St),St.forEach(d),Jt.forEach(d),Lt.forEach(d),It=X(Ve),ht=k(Ve,"DIV",{class:!0});var cn=x(ht);at=k(cn,"DIV",{class:!0});var fn=x(at);Xt=j(fn,"Reset"),fn.forEach(d),cn.forEach(d),Ve.forEach(d),$.forEach(d),this.h()},h(){c(u,"class","fullInfoSub"),c(l,"class","wager_amount"),c(r,"class","fullInfo svelte-1xjl5fk"),c(y,"class",b="headshot bg-"+t[2].p1.mood+" svelte-1xjl5fk"),le(y,"background-image","url(assets/yardsale/art/player1-"+t[2].p1.mood+".png)"),c(M,"class","playerName svelte-1xjl5fk"),c(A,"class","profile profile1 svelte-1xjl5fk"),c(w,"class","svelte-1xjl5fk"),c(q,"class","svelte-1xjl5fk"),c(ke,"class",ft="headshot bg-"+t[2].p2.mood+" svelte-1xjl5fk"),le(ke,"background-image","url(assets/yardsale/art/player4-"+t[2].p2.mood+".png)"),c(we,"class","playerName svelte-1xjl5fk"),c(We,"class","profile profile2 svelte-1xjl5fk"),c(Pe,"class","svelte-1xjl5fk"),c(Ne,"class","svelte-1xjl5fk"),c(H,"class","chart_container extrawide svelte-1xjl5fk"),c(at,"class","reset"),c(ht,"class","resetContainer extrawide svelte-1xjl5fk"),c(n,"class","ysm_container svelte-1xjl5fk"),c(e,"class","interactive_container")},m(Y,$){C(Y,e,$),h(e,n),h(n,r),h(r,l),h(l,i),h(l,a),h(a,s),h(l,f),h(l,u),h(u,m),h(u,_),h(u,I),h(n,S),h(n,H),h(H,q),h(q,w),h(w,A),h(A,y),xe&&xe.m(y,null),h(y,P),Ee&&Ee.m(y,null),h(y,N),Ie&&Ie.m(y,null),h(y,D),Me&&Me.m(y,null),h(y,L),ze&&ze.m(y,null),h(A,E),h(A,M),h(M,T),h(T,R),h(M,O),h(M,z),h(M,Q),h(M,W),h(M,K),h(M,ee),h(M,se),h(M,oe),h(M,Le),h(M,Ze),h(M,Se),h(A,pt),Ce.m(A,null),h(w,He),me(ne,w,null),h(H,fe),h(H,Ne),h(Ne,Pe),h(Pe,We),h(We,ke),ve&&ve.m(ke,null),h(ke,tt),Re&&Re.m(ke,null),h(We,ut),h(We,we),h(we,Ge),h(Ge,it),h(we,Ye),h(we,lt),h(we,_t),h(we,vt),h(we,Bt),h(we,Pt),h(we,Gt),h(we,Wt),h(we,Yt),h(we,Vt),h(we,jt),h(We,Ft),Qe.m(We,null),h(Pe,Ut),me(nt,Pe,null),h(n,It),h(n,ht),h(ht,at),h(at,Xt),De=!0,Zt||(an=bt(at,"click",t[7]),Zt=!0)},p(Y,[$]){(!De||$&8)&&o!==(o=wn(Y[3][0])+"")&&ae(s,o),(!De||$&8)&&g!==(g=Y[3][1]+"")&&ae(_,g),Y[2].p1.wins==0&&Y[2].p2.wins==1?xe?$&4&&G(xe,1):(xe=Xi(),xe.c(),G(xe,1),xe.m(y,P)):xe&&($e(),Z(xe,1,1,()=>{xe=null}),et()),Y[2].p1.rate<45&&Y[2].p1.latest=="lost"&&Y[2].p2.wins>2?Ee?$&4&&G(Ee,1):(Ee=Zi(),Ee.c(),G(Ee,1),Ee.m(y,N)):Ee&&($e(),Z(Ee,1,1,()=>{Ee=null}),et()),Y[2].p1.wins==1&&Y[2].p2.wins==1?Ie?$&4&&G(Ie,1):(Ie=Ki(),Ie.c(),G(Ie,1),Ie.m(y,D)):Ie&&($e(),Z(Ie,1,1,()=>{Ie=null}),et()),Y[2].p1.rate==50&&Y[2].p1.wins>1&&Y[2].p1.wealth<Y[2].p2.wealth?Me?$&4&&G(Me,1):(Me=Qi(),Me.c(),G(Me,1),Me.m(y,L)):Me&&($e(),Z(Me,1,1,()=>{Me=null}),et()),Y[2].p1.rate==50&&Y[2].p1.wins>=5&&Y[2].p1.wins<3&&Y[2].p1.wealth<Y[2].p2.wealth?ze?$&4&&G(ze,1):(ze=Ji(),ze.c(),G(ze,1),ze.m(y,null)):ze&&($e(),Z(ze,1,1,()=>{ze=null}),et()),(!De||$&4&&b!==(b="headshot bg-"+Y[2].p1.mood+" svelte-1xjl5fk"))&&c(y,"class",b),(!De||$&4)&&le(y,"background-image","url(assets/yardsale/art/player1-"+Y[2].p1.mood+".png)"),(!De||$&4)&&F!==(F=wn(Y[2].p1.wealth)+"")&&ae(Q,F),(!De||$&4)&&B!==(B=Y[2].p1.wins+"")&&ae(ee,B),(!De||$&5)&&te!==(te=Y[0]-Y[2].p1.wins+"")&&ae(oe,te),(!De||$&4)&&Te!==(Te=Y[2].p1.rate+"")&&ae(Ze,Te),dt===(dt=ue(Y))&&Ce?Ce.p(Y,$):(Ce.d(1),Ce=dt(Y),Ce&&(Ce.c(),Ce.m(A,null)));const Ve={};$&4&&(Ve.data=Y[2].p1.data),$&2&&(Ve.xDomain=[0,Y[1]]),$&4&&(Ve.yDomain=[Y[2].p1.minmax[0],Y[2].p1.minmax[1]]),$&512&&(Ve.$$scope={dirty:$,ctx:Y}),ne.$set(Ve),Y[2].p1.wins==0&&Y[2].p2.wins==0?ve?$&4&&G(ve,1):(ve=$i(),ve.c(),G(ve,1),ve.m(ke,tt)):ve&&($e(),Z(ve,1,1,()=>{ve=null}),et()),Y[2].p2.rate<45&&Y[2].p2.latest=="lost"&&Y[2].p1.wins>2&&Y[2].p1.wins<8?Re?$&4&&G(Re,1):(Re=el(),Re.c(),G(Re,1),Re.m(ke,null)):Re&&($e(),Z(Re,1,1,()=>{Re=null}),et()),(!De||$&4&&ft!==(ft="headshot bg-"+Y[2].p2.mood+" svelte-1xjl5fk"))&&c(ke,"class",ft),(!De||$&4)&&le(ke,"background-image","url(assets/yardsale/art/player4-"+Y[2].p2.mood+".png)"),(!De||$&4)&&Ke!==(Ke=wn(Y[2].p2.wealth)+"")&&ae(_t,Ke),(!De||$&4)&&kt!==(kt=Y[2].p2.wins+"")&&ae(Pt,kt),(!De||$&5)&&xt!==(xt=Y[0]-Y[2].p2.wins+"")&&ae(Wt,xt),(!De||$&4)&&Et!==(Et=Y[2].p2.rate+"")&&ae(Vt,Et),Mt===(Mt=on(Y))&&Qe?Qe.p(Y,$):(Qe.d(1),Qe=Mt(Y),Qe&&(Qe.c(),Qe.m(We,null)));const rt={};$&4&&(rt.data=Y[2].p2.data),$&2&&(rt.xDomain=[0,Y[1]]),$&4&&(rt.yDomain=[Y[2].p2.minmax[0],Y[2].p2.minmax[1]]),$&512&&(rt.$$scope={dirty:$,ctx:Y}),nt.$set(rt)},i(Y){De||(G(xe),G(Ee),G(Ie),G(Me),G(ze),G(ne.$$.fragment,Y),G(ve),G(Re),G(nt.$$.fragment,Y),De=!0)},o(Y){Z(xe),Z(Ee),Z(Ie),Z(Me),Z(ze),Z(ne.$$.fragment,Y),Z(ve),Z(Re),Z(nt.$$.fragment,Y),De=!1},d(Y){Y&&d(e),xe&&xe.d(),Ee&&Ee.d(),Ie&&Ie.d(),Me&&Me.d(),ze&&ze.d(),Ce.d(),ye(ne),ve&&ve.d(),Re&&Re.d(),Qe.d(),ye(nt),Zt=!1,an()}}}const tl="x",nl="y",vr=30;function kr(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function wn(t,e){return t>=0?e&&t>0?"+$"+kr(Math.round(t)):"$"+kr(Math.round(t)):"-$"+kr(Math.abs(Math.round(t)))}function xs(t,e,n){let r=0,l=10,i={p1:{wins:0,rate:0,wealth:100,minmax:[70,130],mood:"happy",data:[{x:0,y:100}]},p2:{wins:0,rate:0,wealth:1e3,minmax:[700,1300],mood:"happy",data:[{x:0,y:1e3}]}};const a={top:vr,left:50,bottom:vr,right:vr},o=g=>"$"+g;let s=m();function f(g){let _=g.target.getAttribute("player");n(2,i.p1.latest=_=="p1"?"win":"lost",i),n(2,i.p2.latest=_=="p2"?"win":"lost",i),n(3,s=m());let I=s[0];n(2,i[_].wins+=1,i),n(0,r+=1),n(2,i.p1.rate=Math.round(i.p1.wins/r*100),i),n(2,i.p2.rate=Math.round(i.p2.wins/r*100),i),n(2,i.p1.mood=i.p1.rate>=51?"happy":"sad",i),n(2,i.p2.mood=i.p2.rate>=50?"happy":"sad",i),_=="p1"?(i.p1.data.push({x:r,y:n(2,i.p1.wealth+=I,i)}),i.p2.data.push({x:r,y:n(2,i.p2.wealth-=I,i)})):(i.p1.data.push({x:r,y:n(2,i.p1.wealth-=I,i)}),i.p2.data.push({x:r,y:n(2,i.p2.wealth+=I,i)})),i.p1.wealth>i.p1.minmax[1]&&n(2,i.p1.minmax[1]=i.p1.wealth*1.1,i),i.p1.wealth<i.p1.minmax[0]&&n(2,i.p1.minmax[0]=i.p1.wealth*.9,i),i.p2.wealth>i.p2.minmax[1]&&n(2,i.p2.minmax[1]=i.p2.wealth*1.1,i),i.p2.wealth<i.p2.minmax[0]&&n(2,i.p2.minmax[0]=i.p2.wealth*.9,i),r>9&&n(1,l=null),n(3,s=m())}function u(){n(0,r=0),n(1,l=10),n(2,i={p1:{wins:0,rate:0,wealth:100,minmax:[70,120],mood:"happy",data:[{x:0,y:100}]},p2:{wins:0,rate:0,wealth:1e3,minmax:[900,1100],mood:"happy",data:[{x:0,y:1e3}]}}),n(3,s=[20,"Player 1"])}function m(){let g=i.p1.data[r].y*.2,_="Player 1";return i.p1.data[r].y>i.p2.data[r].y&&(g=i.p2.data[r].y*.2,_="Player 2"),[g,_]}return[r,l,i,s,a,o,f,u]}class Es extends Fe{constructor(e){super(),Ue(this,e,xs,ks,Xe,{})}}function rl(t,e,n){const r=t.slice();return r[12]=e[n],r}function il(t){let e,n=cr(`.${t[7]}f`)(t[12])+"",r;return{c(){e=v("span"),r=V(n),this.h()},l(l){e=k(l,"SPAN",{class:!0});var i=x(e);r=j(i,n),i.forEach(d),this.h()},h(){c(e,"class","tick svelte-1cvct5q")},m(l,i){C(l,e,i),h(e,r)},p(l,i){i&192&&n!==(n=cr(`.${l[7]}f`)(l[12])+"")&&ae(r,n)},d(l){l&&d(e)}}}function Is(t){let e,n,r;return{c(){e=v("input"),this.h()},l(l){e=k(l,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),this.h()},h(){c(e,"type","range"),c(e,"aria-label",t[4]),c(e,"min",t[1]),c(e,"max",t[2]),c(e,"step",t[3]),c(e,"class","svelte-1cvct5q")},m(l,i){C(l,e,i),rr(e,t[0]),n||(r=[bt(e,"change",t[10]),bt(e,"input",t[10])],n=!0)},p(l,i){i&16&&c(e,"aria-label",l[4]),i&2&&c(e,"min",l[1]),i&4&&c(e,"max",l[2]),i&8&&c(e,"step",l[3]),i&1&&rr(e,l[0])},d(l){l&&d(e),n=!1,pl(r)}}}function Ms(t){let e,n,r;return{c(){e=v("input"),this.h()},l(l){e=k(l,"INPUT",{class:!0,type:!0,"aria-label":!0,min:!0,max:!0,step:!0}),this.h()},h(){c(e,"class","disabled svelte-1cvct5q"),c(e,"type","range"),c(e,"aria-label",t[4]),c(e,"min",t[1]),c(e,"max",t[2]),c(e,"step",t[3]),e.disabled=!0},m(l,i){C(l,e,i),rr(e,t[0]),n||(r=[bt(e,"change",t[9]),bt(e,"input",t[9])],n=!0)},p(l,i){i&16&&c(e,"aria-label",l[4]),i&2&&c(e,"min",l[1]),i&4&&c(e,"max",l[2]),i&8&&c(e,"step",l[3]),i&1&&rr(e,l[0])},d(l){l&&d(e),n=!1,pl(r)}}}function Rs(t){let e,n,r,l=t[6],i=[];for(let f=0;f<l.length;f+=1)i[f]=il(rl(t,l,f));function a(f,u){return f[5]?Ms:Is}let o=a(t),s=o(t);return{c(){e=v("div"),n=v("div");for(let f=0;f<i.length;f+=1)i[f].c();r=U(),s.c(),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=x(e);n=k(u,"DIV",{class:!0});var m=x(n);for(let g=0;g<i.length;g+=1)i[g].l(m);m.forEach(d),r=X(u),s.l(u),u.forEach(d),this.h()},h(){c(n,"class","ticks svelte-1cvct5q"),c(e,"class","range svelte-1cvct5q")},m(f,u){C(f,e,u),h(e,n);for(let m=0;m<i.length;m+=1)i[m].m(n,null);h(e,r),s.m(e,null)},p(f,[u]){if(u&192){l=f[6];let m;for(m=0;m<l.length;m+=1){const g=rl(f,l,m);i[m]?i[m].p(g,u):(i[m]=il(g),i[m].c(),i[m].m(n,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=l.length}o===(o=a(f))&&s?s.p(f,u):(s.d(1),s=o(f),s&&(s.c(),s.m(e,null)))},i:_e,o:_e,d(f){f&&d(e),st(i,f),s.d()}}}function Ts(t,e,n){let r,l,{min:i=0}=e,{max:a=100}=e,{step:o=1}=e,{showTicks:s=!1}=e,{value:f}=e,{label:u=""}=e,{dis:m}=e;const g=S=>Math.floor(S)===S?0:S.toString().split(".")[1].length||0;function _(){f=Fr(this.value),n(0,f)}function I(){f=Fr(this.value),n(0,f)}return t.$$set=S=>{"min"in S&&n(1,i=S.min),"max"in S&&n(2,a=S.max),"step"in S&&n(3,o=S.step),"showTicks"in S&&n(8,s=S.showTicks),"value"in S&&n(0,f=S.value),"label"in S&&n(4,u=S.label),"dis"in S&&n(5,m=S.dis)},t.$$.update=()=>{t.$$.dirty&8&&n(7,r=g(o)),t.$$.dirty&270&&n(6,l=s?ja(i,a+o,o):[])},[f,i,a,o,u,m,l,r,s,_,I]}class ll extends Fe{constructor(e){super(),Ue(this,e,Ts,Rs,Xe,{min:1,max:2,step:3,showTicks:8,value:0,label:4,dis:5})}}function al(t,e,n){const r=t.slice();return r[22]=e[n],r}function ol(t,e,n){const r=t.slice();return r[22]=e[n],r}function sl(t,e,n){const r=t.slice();return r[27]=e[n],r}function cl(t){let e,n,r,l,i,a,o,s,f,u,m,g,_,I,S,H,q,w,A,y,P,N,D,L,b,E,M=t[9].toFixed(1)+"",T,R,O,z,F,Q,W,K,B,ee,se=t[9].toFixed(1)+"",te,oe,Le,Te;function Ze(ne){t[13](ne)}let Se={min:"1",max:"100",dis:t[10]};t[5]!==void 0&&(Se.value=t[5]),f=new ll({props:Se}),Ot.push(()=>Dn(f,"value",Ze));function pt(ne){t[14](ne)}let He={min:"0",max:"10",step:"0.1",dis:t[10]};return t[9]!==void 0&&(He.value=t[9]),D=new ll({props:He}),Ot.push(()=>Dn(D,"value",pt)),{c(){e=v("div"),n=v("p"),r=v("strong"),l=V("Maximum wager:"),i=V(" What is the maximum percentage of wealth each person is willing to wager each round?"),a=U(),o=v("div"),s=v("div"),he(f.$$.fragment),m=U(),g=v("div"),_=V(t[5]),I=V("%"),S=U(),H=v("p"),q=v("strong"),w=V("Redistribution:"),A=V(" How much of each player's wealth should be redistributed to everyone else after each round?"),y=U(),P=v("div"),N=v("div"),he(D.$$.fragment),b=U(),E=v("div"),T=V(M),R=V("%"),O=U(),z=v("p"),F=V("This time players will be willing to bet "),Q=v("strong"),W=V(t[5]),K=V("%"),B=V(" of their wealth each game. After each round, we'll tax every player "),ee=v("strong"),te=V(se),oe=V("%"),Le=V(" and disperse it evenly to all players."),this.h()},l(ne){e=k(ne,"DIV",{class:!0});var fe=x(e);n=k(fe,"P",{});var Ne=x(n);r=k(Ne,"STRONG",{});var Pe=x(r);l=j(Pe,"Maximum wager:"),Pe.forEach(d),i=j(Ne," What is the maximum percentage of wealth each person is willing to wager each round?"),Ne.forEach(d),a=X(fe),o=k(fe,"DIV",{class:!0});var We=x(o);s=k(We,"DIV",{class:!0});var ke=x(s);de(f.$$.fragment,ke),m=X(ke),g=k(ke,"DIV",{class:!0});var tt=x(g);_=j(tt,t[5]),I=j(tt,"%"),tt.forEach(d),ke.forEach(d),We.forEach(d),S=X(fe),H=k(fe,"P",{});var ft=x(H);q=k(ft,"STRONG",{});var ut=x(q);w=j(ut,"Redistribution:"),ut.forEach(d),A=j(ft," How much of each player's wealth should be redistributed to everyone else after each round?"),ft.forEach(d),y=X(fe),P=k(fe,"DIV",{class:!0});var we=x(P);N=k(we,"DIV",{class:!0});var Ge=x(N);de(D.$$.fragment,Ge),b=X(Ge),E=k(Ge,"DIV",{class:!0});var it=x(E);T=j(it,M),R=j(it,"%"),it.forEach(d),Ge.forEach(d),we.forEach(d),O=X(fe),z=k(fe,"P",{});var Ye=x(z);F=j(Ye,"This time players will be willing to bet "),Q=k(Ye,"STRONG",{});var lt=x(Q);W=j(lt,t[5]),K=j(lt,"%"),lt.forEach(d),B=j(Ye," of their wealth each game. After each round, we'll tax every player "),ee=k(Ye,"STRONG",{});var Ke=x(ee);te=j(Ke,se),oe=j(Ke,"%"),Ke.forEach(d),Le=j(Ye," and disperse it evenly to all players."),Ye.forEach(d),fe.forEach(d),this.h()},h(){c(g,"class","toolValue svelte-bzs7yl"),c(s,"class","toolItem svelte-bzs7yl"),c(o,"class","toolbar ysm_data fullInfo svelte-bzs7yl"),c(E,"class","toolValue svelte-bzs7yl"),c(N,"class","toolItem svelte-bzs7yl"),c(P,"class","toolbar ysm_data fullInfo svelte-bzs7yl"),c(e,"class","body_container")},m(ne,fe){C(ne,e,fe),h(e,n),h(n,r),h(r,l),h(n,i),h(e,a),h(e,o),h(o,s),me(f,s,null),h(s,m),h(s,g),h(g,_),h(g,I),h(e,S),h(e,H),h(H,q),h(q,w),h(H,A),h(e,y),h(e,P),h(P,N),me(D,N,null),h(N,b),h(N,E),h(E,T),h(E,R),h(e,O),h(e,z),h(z,F),h(z,Q),h(Q,W),h(Q,K),h(z,B),h(z,ee),h(ee,te),h(ee,oe),h(z,Le),Te=!0},p(ne,fe){const Ne={};fe&1024&&(Ne.dis=ne[10]),!u&&fe&32&&(u=!0,Ne.value=ne[5],zn(()=>u=!1)),f.$set(Ne),(!Te||fe&32)&&ae(_,ne[5]);const Pe={};fe&1024&&(Pe.dis=ne[10]),!L&&fe&512&&(L=!0,Pe.value=ne[9],zn(()=>L=!1)),D.$set(Pe),(!Te||fe&512)&&M!==(M=ne[9].toFixed(1)+"")&&ae(T,M),(!Te||fe&32)&&ae(W,ne[5]),(!Te||fe&512)&&se!==(se=ne[9].toFixed(1)+"")&&ae(te,se)},i(ne){Te||(G(f.$$.fragment,ne),G(D.$$.fragment,ne),Te=!0)},o(ne){Z(f.$$.fragment,ne),Z(D.$$.fragment,ne),Te=!1},d(ne){ne&&d(e),ye(f),ye(D)}}}function Ss(t){let e,n;return{c(){e=v("button"),n=V("Simulating..."),this.h()},l(r){e=k(r,"BUTTON",{class:!0});var l=x(e);n=j(l,"Simulating..."),l.forEach(d),this.h()},h(){c(e,"class","toolLabel button svelte-bzs7yl"),e.disabled=!0},m(r,l){C(r,e,l),h(e,n)},p:_e,d(r){r&&d(e)}}}function Ns(t){let e,n,r;function l(o,s){return o[6]<999?zs:Ds}let i=l(t),a=i(t);return{c(){e=v("button"),a.c(),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var s=x(e);a.l(s),s.forEach(d),this.h()},h(){c(e,"class","toolLabel button svelte-bzs7yl")},m(o,s){C(o,e,s),a.m(e,null),n||(r=bt(e,"click",t[11]),n=!0)},p(o,s){i!==(i=l(o))&&(a.d(1),a=i(o),a&&(a.c(),a.m(e,null)))},d(o){o&&d(e),a.d(),n=!1,r()}}}function Ds(t){let e;return{c(){e=V("Another 1,000 rounds")},l(n){e=j(n,"Another 1,000 rounds")},m(n,r){C(n,e,r)},d(n){n&&d(e)}}}function zs(t){let e;return{c(){e=V("Play 1,000 rounds")},l(n){e=j(n,"Play 1,000 rounds")},m(n,r){C(n,e,r)},d(n){n&&d(e)}}}function fl(t){let e,n,r,l,i,a=ln(t[27])+"",o,s;return{c(){e=ge("line"),l=ge("text"),i=V("$"),o=V(a),this.h()},l(f){e=pe(f,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(d),l=pe(f,"text",{class:!0,x:!0,y:!0});var u=x(l);i=j(u,"$"),o=j(u,a),u.forEach(d),this.h()},h(){c(e,"x1","0"),c(e,"x2",t[7]),c(e,"y1",n=t[8]-t[27]/t[4]*t[8]),c(e,"y2",r=t[8]-t[27]/t[4]*t[8]),c(l,"class","chartText"),c(l,"x","0"),c(l,"y",s=t[8]-t[27]/t[4]*t[8]-5)},m(f,u){C(f,e,u),C(f,l,u),h(l,i),h(l,o)},p(f,u){u&128&&c(e,"x2",f[7]),u&280&&n!==(n=f[8]-f[27]/f[4]*f[8])&&c(e,"y1",n),u&280&&r!==(r=f[8]-f[27]/f[4]*f[8])&&c(e,"y2",r),u&8&&a!==(a=ln(f[27])+"")&&ae(o,a),u&280&&s!==(s=f[8]-f[27]/f[4]*f[8]-5)&&c(l,"y",s)},d(f){f&&d(e),f&&d(l)}}}function ul(t){let e,n,r,l,i,a;return{c(){e=ge("rect"),this.h()},l(o){e=pe(o,"rect",{class:!0,x:!0,width:!0,height:!0,y:!0}),x(e).forEach(d),this.h()},h(){c(e,"class",n="player player"+t[22].order+" svelte-bzs7yl"),c(e,"x",r=t[22].order*((t[7]-100)/gn)+50),c(e,"width",l=t[7]/200),c(e,"height",i=t[22].height),c(e,"y",a=t[8]-t[22].height)},m(o,s){C(o,e,s)},p(o,s){s&4&&n!==(n="player player"+o[22].order+" svelte-bzs7yl")&&c(e,"class",n),s&132&&r!==(r=o[22].order*((o[7]-100)/gn)+50)&&c(e,"x",r),s&128&&l!==(l=o[7]/200)&&c(e,"width",l),s&4&&i!==(i=o[22].height)&&c(e,"height",i),s&260&&a!==(a=o[8]-o[22].height)&&c(e,"y",a)},d(o){o&&d(e)}}}function hl(t){let e,n,r=ln(Math.round(t[22].wealth))+"",l,i,a;return{c(){e=ge("text"),n=V("Poorest: $"),l=V(r),this.h()},l(o){e=pe(o,"text",{class:!0,x:!0,y:!0});var s=x(e);n=j(s,"Poorest: $"),l=j(s,r),s.forEach(d),this.h()},h(){c(e,"class","player1Text"),c(e,"x",i=t[22].order*((t[7]-50)/gn)+45),c(e,"y",a=t[8]-t[22].height-7)},m(o,s){C(o,e,s),h(e,n),h(e,l)},p(o,s){s&4&&r!==(r=ln(Math.round(o[22].wealth))+"")&&ae(l,r),s&132&&i!==(i=o[22].order*((o[7]-50)/gn)+45)&&c(e,"x",i),s&260&&a!==(a=o[8]-o[22].height-7)&&c(e,"y",a)},d(o){o&&d(e)}}}function dl(t){let e,n,r=ln(Math.round(t[22].wealth))+"",l,i,a;return{c(){e=ge("text"),n=V("Richest: $"),l=V(r),this.h()},l(o){e=pe(o,"text",{class:!0,width:!0,x:!0,y:!0});var s=x(e);n=j(s,"Richest: $"),l=j(s,r),s.forEach(d),this.h()},h(){c(e,"class","player2Text"),c(e,"width",200),c(e,"x",i=t[22].order*((t[7]-100)/gn)+50),c(e,"y",a=t[8]-t[22].height-7)},m(o,s){C(o,e,s),h(e,n),h(e,l)},p(o,s){s&4&&r!==(r=ln(Math.round(o[22].wealth))+"")&&ae(l,r),s&132&&i!==(i=o[22].order*((o[7]-100)/gn)+50)&&c(e,"x",i),s&260&&a!==(a=o[8]-o[22].height-7)&&c(e,"y",a)},d(o){o&&d(e)}}}function ml(t){let e,n,r=t[22].order==0&&hl(t),l=t[22].order==99&&dl(t);return{c(){r&&r.c(),e=ce(),l&&l.c(),n=ce()},l(i){r&&r.l(i),e=ce(),l&&l.l(i),n=ce()},m(i,a){r&&r.m(i,a),C(i,e,a),l&&l.m(i,a),C(i,n,a)},p(i,a){i[22].order==0?r?r.p(i,a):(r=hl(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i[22].order==99?l?l.p(i,a):(l=dl(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){r&&r.d(i),i&&d(e),l&&l.d(i),i&&d(n)}}}function As(t){let e,n,r,l,i,a,o,s=ln(t[6])+"",f,u,m,g,_,I,S,H,q,w,A,y,P,N,D,L=t[0]==1&&cl(t);function b(W,K){return W[10]?Ss:Ns}let E=b(t),M=E(t),T=t[3],R=[];for(let W=0;W<T.length;W+=1)R[W]=fl(sl(t,T,W));let O=t[2],z=[];for(let W=0;W<O.length;W+=1)z[W]=ul(ol(t,O,W));let F=t[2],Q=[];for(let W=0;W<F.length;W+=1)Q[W]=ml(al(t,F,W));return{c(){L&&L.c(),e=U(),n=v("div"),r=v("div"),l=v("div"),i=v("div"),a=V("Round: "),o=v("span"),f=V(s),u=U(),m=v("div"),M.c(),g=U(),_=ge("svg");for(let W=0;W<R.length;W+=1)R[W].c();I=ce();for(let W=0;W<z.length;W+=1)z[W].c();S=ce();for(let W=0;W<Q.length;W+=1)Q[W].c();q=U(),w=v("div"),A=v("div"),y=V("Reset"),this.h()},l(W){L&&L.l(W),e=X(W),n=k(W,"DIV",{class:!0});var K=x(n);r=k(K,"DIV",{class:!0});var B=x(r);l=k(B,"DIV",{class:!0});var ee=x(l);i=k(ee,"DIV",{class:!0});var se=x(i);a=j(se,"Round: "),o=k(se,"SPAN",{class:!0});var te=x(o);f=j(te,s),te.forEach(d),se.forEach(d),u=X(ee),m=k(ee,"DIV",{class:!0});var oe=x(m);M.l(oe),oe.forEach(d),g=X(ee),_=pe(ee,"svg",{class:!0});var Le=x(_);for(let Se=0;Se<R.length;Se+=1)R[Se].l(Le);I=ce();for(let Se=0;Se<z.length;Se+=1)z[Se].l(Le);S=ce();for(let Se=0;Se<Q.length;Se+=1)Q[Se].l(Le);Le.forEach(d),ee.forEach(d),q=X(B),w=k(B,"DIV",{class:!0});var Te=x(w);A=k(Te,"DIV",{class:!0});var Ze=x(A);y=j(Ze,"Reset"),Ze.forEach(d),Te.forEach(d),B.forEach(d),K.forEach(d),this.h()},h(){c(o,"class","toolValue svelte-bzs7yl"),c(i,"class","toolLabel svelte-bzs7yl"),c(m,"class","toolItem svelte-bzs7yl"),c(_,"class","svelte-bzs7yl"),c(l,"class","chartArea svelte-bzs7yl"),Be(()=>t[15].call(l)),c(A,"class","reset button"),c(w,"class","resetContainer"),c(r,"class","ysm_container svelte-bzs7yl"),c(n,"class","interactive_container")},m(W,K){L&&L.m(W,K),C(W,e,K),C(W,n,K),h(n,r),h(r,l),h(l,i),h(i,a),h(i,o),h(o,f),h(l,u),h(l,m),M.m(m,null),h(l,g),h(l,_);for(let B=0;B<R.length;B+=1)R[B].m(_,null);h(_,I);for(let B=0;B<z.length;B+=1)z[B].m(_,null);h(_,S);for(let B=0;B<Q.length;B+=1)Q[B].m(_,null);H=Nn(l,t[15].bind(l)),h(r,q),h(r,w),h(w,A),h(A,y),P=!0,N||(D=bt(A,"click",t[12]),N=!0)},p(W,[K]){if(W[0]==1?L?(L.p(W,K),K&1&&G(L,1)):(L=cl(W),L.c(),G(L,1),L.m(e.parentNode,e)):L&&($e(),Z(L,1,1,()=>{L=null}),et()),(!P||K&64)&&s!==(s=ln(W[6])+"")&&ae(f,s),E===(E=b(W))&&M?M.p(W,K):(M.d(1),M=E(W),M&&(M.c(),M.m(m,null))),K&408){T=W[3];let B;for(B=0;B<T.length;B+=1){const ee=sl(W,T,B);R[B]?R[B].p(ee,K):(R[B]=fl(ee),R[B].c(),R[B].m(_,I))}for(;B<R.length;B+=1)R[B].d(1);R.length=T.length}if(K&388){O=W[2];let B;for(B=0;B<O.length;B+=1){const ee=ol(W,O,B);z[B]?z[B].p(ee,K):(z[B]=ul(ee),z[B].c(),z[B].m(_,S))}for(;B<z.length;B+=1)z[B].d(1);z.length=O.length}if(K&388){F=W[2];let B;for(B=0;B<F.length;B+=1){const ee=al(W,F,B);Q[B]?Q[B].p(ee,K):(Q[B]=ml(ee),Q[B].c(),Q[B].m(_,null))}for(;B<Q.length;B+=1)Q[B].d(1);Q.length=F.length}},i(W){P||(G(L),P=!0)},o(W){Z(L),P=!1},d(W){L&&L.d(W),W&&d(e),W&&d(n),M.d(),st(R,W),st(z,W),st(Q,W),H(),N=!1,D()}}}let gn=100;function Ps(t){let e=1;return t[0]==="-"&&(e=-1,t=t.substr(1)),function(n,r){return(n[t]<r[t]?-1:n[t]>r[t]?1:0)*e}}function Ws(t){let e=t.length,n;for(;e!=0;)n=Math.floor(Math.random()*e),e--,[t[e],t[n]]=[t[n],t[e]];return t}function ln(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Vs(t,e,n){let r=[],l=[],i,a=0,o=0,s=20,f=0,u=0,m,g,_=0,I=0,S=!1,{redist:H}=e;function q(){n(2,r=[]);for(let b in[...Array(gn).keys()]){let E={wealth:1e3,id:b,order:0,height:0};r.push(E)}}function w(){setInterval(function(){n(10,S=!1),f<u&&(A(),n(10,S=!0))},1),u+=1e3}function A(){n(2,r=Ws(r)),I=0;for(let b=0;b<r.length;b+=2){let E=r[b],M=r[b+1],R=(E.wealth>M.wealth?[E,M]:[M,E])[1].wealth*s/100,O=Math.random()>.5?[R,-R]:[-R,R];n(2,r[b].wealth=r[b].wealth+O[0],r),n(2,r[b+1].wealth=r[b+1].wealth+O[1],r),I+=r[b].wealth*_/100,I+=r[b+1].wealth*_/100,n(2,r[b].wealth=r[b].wealth-r[b].wealth*_/100,r),n(2,r[b+1].wealth=r[b+1].wealth-r[b+1].wealth*_/100,r)}n(6,f+=1),y()}function y(){r.sort(Ps("wealth")),a=0,n(4,o=0);for(let E=0;E<r.length;E++)n(2,r[E].wealth=r[E].wealth+I/100,r),r[E].wealth>a&&(a=r[E].wealth);a>4e4?n(4,o=12e4):a>8e3?n(4,o=5e4):n(4,o=1e4),n(3,l=[]);for(var b=0;b<o;b+=o/5)l.push(b);for(var b=0;b<r.length;b++)n(2,r[b].order=b,r),n(2,r[b].height=r[b].wealth/o*g,r),n(2,r[b].height=r[b].height<2?2:r[b].height,r)}function P(){n(6,f=0),u=0,I=0,q(),y()}q(),y();function N(b){s=b,n(5,s)}function D(b){_=b,n(9,_)}function L(){m=this.clientWidth,i=this.clientHeight,n(7,m),n(1,i)}return t.$$set=b=>{"redist"in b&&n(0,H=b.redist)},t.$$.update=()=>{t.$$.dirty&2&&(n(8,g=i-50),q(),y())},[H,i,r,l,o,s,f,m,g,_,S,w,P,N,D,L]}class yl extends Fe{constructor(e){super(),Ue(this,e,Vs,As,Xe,{redist:0})}}function js(t){let e,n,r,l,i,a,o,s,f,u,m,g,_,I,S,H,q,w,A,y,P,N,D,L,b,E,M;return n=new pr({props:{words:t[0].scrolly1,container:"scrolly1"}}),l=new pr({props:{words:t[0].scrolly2,container:"scrolly2"}}),a=new pr({props:{words:t[0].scrolly3,container:"scrolly3"}}),s=new pn({props:{hed:"",words:t[0].IntroSection1}}),u=new Es({}),g=new pn({props:{hed:"",words:t[0].IntroSection2}}),I=new pn({props:{hed:t[0].MiddleHed,words:t[0].MiddleSection1}}),H=new yl({props:{redist:"-1"}}),w=new pn({props:{hed:"",words:t[0].MiddleSection2}}),y=new pn({props:{hed:t[0].EndHed,words:t[0].EndSection1}}),N=new yl({props:{redist:"1"}}),L=new pn({props:{hed:"",words:t[0].EndSection2}}),E=new la({}),{c(){e=v("div"),he(n.$$.fragment),r=U(),he(l.$$.fragment),i=U(),he(a.$$.fragment),o=U(),he(s.$$.fragment),f=U(),he(u.$$.fragment),m=U(),he(g.$$.fragment),_=U(),he(I.$$.fragment),S=U(),he(H.$$.fragment),q=U(),he(w.$$.fragment),A=U(),he(y.$$.fragment),P=U(),he(N.$$.fragment),D=U(),he(L.$$.fragment),b=U(),he(E.$$.fragment),this.h()},l(T){e=k(T,"DIV",{id:!0});var R=x(e);de(n.$$.fragment,R),r=X(R),de(l.$$.fragment,R),i=X(R),de(a.$$.fragment,R),o=X(R),de(s.$$.fragment,R),f=X(R),de(u.$$.fragment,R),m=X(R),de(g.$$.fragment,R),_=X(R),de(I.$$.fragment,R),S=X(R),de(H.$$.fragment,R),q=X(R),de(w.$$.fragment,R),A=X(R),de(y.$$.fragment,R),P=X(R),de(N.$$.fragment,R),D=X(R),de(L.$$.fragment,R),R.forEach(d),b=X(T),de(E.$$.fragment,T),this.h()},h(){c(e,"id","body")},m(T,R){C(T,e,R),me(n,e,null),h(e,r),me(l,e,null),h(e,i),me(a,e,null),h(e,o),me(s,e,null),h(e,f),me(u,e,null),h(e,m),me(g,e,null),h(e,_),me(I,e,null),h(e,S),me(H,e,null),h(e,q),me(w,e,null),h(e,A),me(y,e,null),h(e,P),me(N,e,null),h(e,D),me(L,e,null),C(T,b,R),me(E,T,R),M=!0},p(T,[R]){const O={};R&1&&(O.words=T[0].scrolly1),n.$set(O);const z={};R&1&&(z.words=T[0].scrolly2),l.$set(z);const F={};R&1&&(F.words=T[0].scrolly3),a.$set(F);const Q={};R&1&&(Q.words=T[0].IntroSection1),s.$set(Q);const W={};R&1&&(W.words=T[0].IntroSection2),g.$set(W);const K={};R&1&&(K.hed=T[0].MiddleHed),R&1&&(K.words=T[0].MiddleSection1),I.$set(K);const B={};R&1&&(B.words=T[0].MiddleSection2),w.$set(B);const ee={};R&1&&(ee.hed=T[0].EndHed),R&1&&(ee.words=T[0].EndSection1),y.$set(ee);const se={};R&1&&(se.words=T[0].EndSection2),L.$set(se)},i(T){M||(G(n.$$.fragment,T),G(l.$$.fragment,T),G(a.$$.fragment,T),G(s.$$.fragment,T),G(u.$$.fragment,T),G(g.$$.fragment,T),G(I.$$.fragment,T),G(H.$$.fragment,T),G(w.$$.fragment,T),G(y.$$.fragment,T),G(N.$$.fragment,T),G(L.$$.fragment,T),G(E.$$.fragment,T),M=!0)},o(T){Z(n.$$.fragment,T),Z(l.$$.fragment,T),Z(a.$$.fragment,T),Z(s.$$.fragment,T),Z(u.$$.fragment,T),Z(g.$$.fragment,T),Z(I.$$.fragment,T),Z(H.$$.fragment,T),Z(w.$$.fragment,T),Z(y.$$.fragment,T),Z(N.$$.fragment,T),Z(L.$$.fragment,T),Z(E.$$.fragment,T),M=!1},d(T){T&&d(e),ye(n),ye(l),ye(a),ye(s),ye(u),ye(g),ye(I),ye(H),ye(w),ye(y),ye(N),ye(L),T&&d(b),ye(E,T)}}}function qs(t,e,n){let{copy:r}=e;return t.$$set=l=>{"copy"in l&&n(0,r=l.copy)},[r]}class Ls extends Fe{constructor(e){super(),Ue(this,e,qs,js,Xe,{copy:0})}}function Hs(t){let e,n;return e=new Ls({props:{copy:t[0]}}),{c(){he(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,l){me(e,r,l),n=!0},p:_e,i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ye(e,r)}}}function Cs(t){return[Vn("copy")]}class Os extends Fe{constructor(e){super(),Ue(this,e,Cs,Hs,Xe,{})}}const Bs=["A few years ago I bought a watch at a pawn shop for $200.","Later I found out I overpaid by $50.","But I figured over time, I would also make some smart purchases...","\u2026 and after enough transactions, the good deals and bad deals would even out.","I was wrong."],Gs=["Imagine you're in a room with  99 other people.",`Everyone gets paired up with a random person to play a  coin flip game.\r
\r
\r
 Everyone starts with $1,000 of wealth.`,"","","","But this is just one loss. If we play enough games, you should eventually win about half the coin flips. So your money should even out, right?","Let's play again. Each person finds another player.","","","","","","This is a mathematical oddity: You won one game and lost one game. But you're not back to the $1,000 you started with."],Ys=[`After two rounds, this is the wealth distribution of the 100 people.\r
\r
\r
I thought if you played enough games, the wealth would even out. But that mathematical oddity will make a huge difference.`,"Let's play  10,000 rounds of this game. That will give everyone a chance to win some and lose some.","Simulating 10,000 rounds\u2026"],Fs=`This simulation \u2013 called the <a href="https://www.jstor.org/stable/27857715">Yard-sale model</a> \u2013 helps us understand why the world has a few people who are exorbitantly rich, while so many people have nearly nothing.\r
\r
\r
We often assume that rich people make better financial decisions, like selling a stock at its peak price or not overpaying for a used wristwatch. But this model shows us that, in a free market, nearly all the money ends up in the hands of a few people \u2013 completely by chance.\r
\r
\r
So what the hell is happening? I had trouble getting my head around this, until I walked through two people playing this coin-flip game.`,Us=`Do you see the mathematical oddity playing out? When a poorer player wins 50% of their games, they somehow end up with <em>less</em> money.\r
\r
\r
The best way to understand this is from the perspective of the poorer player. \r
\r
\r
<ul>\r
<li><strong>If the poorer person loses Game 1</strong>, they play Game 2 with less money to wager. So even if they win Game 2, they don't win back what they initially lost.</li>\r
<li><strong>If the poorer person wins Game 1</strong>, they play Game 2 with more money to wager. So if they lose Game 2, they lose more than they initially won.</li>\r
</ul>\r
\r
\r
This ultimately means even if the poorer player wins 50% of the time, their wealth slowly decreases. So where does the money go?\r
\r
\r
To the richer player.\r
\r
\r
From the richer person's perspective, every game they lose means they have an opportunity to win a larger pot the next time. Every game they win means their opponent has less money \u2013 which makes it even easier for the richer person to hold onto their wealth.\r
\r
\r
You might think: How closely could this possibly correlate with reality? A few years ago, researchers <a href="https://www.sciencedirect.com/science/article/pii/S037843711730081X">ran this model</a> with adjustments for how wealth is redistributed by the government. They were able to match the wealth distribution in the US and Europe to an astounding degree. (More on this later.)`,Xs="How should we expect wealth to be distributed?",Zs=`As far back as the late-1800s, economists noticed that there was a general trend to how wealth was distributed in an economy. Italian economist <a href="https://www.britannica.com/biography/Vilfredo-Pareto#ref37223">Vilfredo Pareto</a> saw that 80% of the land in Italy was owned by 20% of the population, and he <a href="https://web.archive.org/web/20130531151249/http://www.institutcoppet.org/wp-content/uploads/2012/05/Cours-d%C3%A9conomie-politique-Tome-II-Vilfredo-Pareto.pdf">observed</a> that this trend <a href="https://www.jstor.org/stable/2225567">holds true</a> in several other countries.\r
\r
\r
Pareto was onto something. Wealth does get concentrated at the top. In fact, in the US the wealthiest 20% of families own about <a href="https://www.cbo.gov/system/files/2022-09/57598-family-wealth.pdf">70% of wealth</a>.\r
\r
\r
But what Pareto may not have predicted is what's happening at the very top and the very bottom. According to the latest <a href="https://www.federalreserve.gov/releases/z1/dataviz/dfa/distribute/table/">Federal Reserve data</a>, the wealthiest 0.1% of Americans are four times richer than the bottom 50%.\r
\r
\r
A few decades ago, physicists got involved in studying inequality. They normally study the physical world \u2013 like how two balls might interact when they hit each other. But they started using their methods to study economics \u2013 a field now dubbed econophysics. Instead of looking at how two balls interact, they looked at how two people might interact in a trade, and then modeled how that might play out on a large scale. This helped them model wealth distribution.\r
\r
\r
In 2002, physicist Anirban Chakraborti published <a href="https://www.worldscientific.com/doi/10.1142/S0129183102003905">a paper</a> that laid out a very simple model \u2013  the simulation we played in the introduction.`,Ks=`To be clear, econophysics gets its <a href="http://keenomics.s3.amazonaws.com/debtdeflation_media/papers/GallegattiKeenLuxOrmerod2006WorryingTrendsInEconophysics_PhysicaA370pp1-6.pdf">fair share</a> of criticism. But the Yard-sale model isn't meant to model the real world with exacting precision.\r
 \r
I emailed University of California-Berkeley economist Gabriel Zucman, who <a href="https://www.warren.senate.gov/imo/media/doc/Wealth%20Tax%20Revenue%20Estimates%20by%20Saez%20and%20Zucman%20-%20Feb%2024%2020211.pdf">advised</a> Senator Elizabeth Warren when she <a href="https://www.warren.senate.gov/newsroom/press-releases/warren-jayapal-boyle-introduce-ultra-millionaire-tax-on-fortunes-over-50-million">proposed</a> a wealth tax in 2021. Zucman said the Yard-sale model is a more generalized model than what economists tend to work with, but it "seems relevant as a simple statistical model of wealth distributions." \r
\r
\r
Tufts University math professor Bruce M. Boghosian echoed that sentiment when he compared the Yard-sale model to an "X-ray" in <a href="https://www.scientificamerican.com/article/is-inequality-inevitable/">Scientific American</a>.\r
\r
\r
<blockquote>We believe that this purely analytical approach, which resembles an x-ray in that it is used not so much to represent the messiness of the real world as to strip it away and reveal the underlying skeleton, provides deep insight into the forces acting to increase poverty and inequality today.</blockquote>\r
\r
\r
In other words, the Yard-sale model can't really inform specific policy decisions since it doesn't capture the incredibly complex variables in the economy. But it can be useful as a way to think about the general "trickle-up" characteristics of a free market. And the conclusion of most papers on the Yard-sale model is that oligarchy might be inevitable \u2013 unless we do something about it.`,Qs="What if we redistribute wealth?",Js=`In his seminal 2002 paper on this model, Chakraborti wrote, "[Wealth concentration] can be prevented, for example, by government intervention via taxes."\r
\r
\r
So what if we run the game again, but every turn we take a percentage of money from everyone and redistribute it evenly? We'll also add in a feature that lets people wager more or less of their money.`,$s=`Oh hey, we stopped oligarchy \u2013 kind of.\r
\r
\r
This is similar to what Boghosian and his colleagues did in a <a href="https://www.sciencedirect.com/science/article/pii/S037843711730081X">2017 paper</a>, where they were able to match the wealth distribution in the US and Europe to within 2 percent.\r
\r
\r
That's because the US and Europe are not pure free market systems. In fact, Americans <a href="https://www.vox.com/policy-and-politics/2019/11/4/20938229/zucman-saez-tax-rates-top-400">pay a lot of taxes</a>, and those taxes tend to be progressive \u2013 the rich are taxed more than the poor. And for the most part, that money is used for government programs that usually help the poor more than the rich. Still, that redistribution is not nearly enough to stop the <a href="https://www.forbes.com/sites/kerryadolan/2021/10/05/the-2021-forbes-400-list-of-richest-americans-facts-and-figures/?sh=53d00da934e9">wealthiest 400 Americans</a> from owning 40% of the country's wealth.\r
\r
\r
For decades, many conservative politicians have argued that <a href="https://en.wikipedia.org/wiki/Trickle-down_economics">wealth trickles downward</a>. They've said the government should implement policies that support wealthier people who create jobs \u2013 and eventually grow the economy, which puts money in the hands of the rest of us. This ideology has led to massive tax cuts for the rich, from <a href="https://www.history.com/this-day-in-history/reagan-signs-economic-recovery-tax-act-erta">Ronald Reagan's tax cut in 1981</a> to <a href="https://apnews.com/article/d782be5ecd4646c1a76516aa50070662">Donald Trump's 2017 tax cut</a>. \r
\r
\r
And we've been able to see those results immediately.\r
\r
\r
After Trump's tax cut, <a href="https://www.propublica.org/article/secret-irs-files-reveal-how-much-the-ultrawealthy-gained-by-shaping-trumps-big-beautiful-tax-cut">ProPublica</a> reviewed tax data for billionaires and found that the tax cut saved many of these people hundreds of millions of dollars. Economists estimate that the top 400 richest people now pay an average tax rate of 23% \u2013 a lower rate than the poorest 50% of Americans.`,gl={scrolly1:Bs,scrolly2:Gs,scrolly3:Ys,IntroSection1:Fs,IntroSection2:Us,MiddleHed:Xs,MiddleSection1:Zs,MiddleSection2:Ks,EndHed:Qs,EndSection1:Js,EndSection2:$s};function ec(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.0.2"),console.log("build: 2022-11-30-13:59"),console.log("--- --- --- --- --- ---")}function tc(t){let e,n,r,l;return e=new na({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),r=new Os({}),{c(){he(e.$$.fragment),n=U(),he(r.$$.fragment)},l(i){de(e.$$.fragment,i),n=X(i),de(r.$$.fragment,i)},m(i,a){me(e,i,a),C(i,n,a),me(r,i,a),l=!0},p:_e,i(i){l||(G(e.$$.fragment,i),G(r.$$.fragment,i),l=!0)},o(i){Z(e.$$.fragment,i),Z(r.$$.fragment,i),l=!1},d(i){ye(e,i),i&&d(n),ye(r,i)}}}function nc(t,e,n){let{data:r}=e;ec();const l=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:i,description:a,url:o,keywords:s}=gl;return xr("copy",gl),xr("data",r.data),t.$$set=f=>{"data"in f&&n(5,r=f.data)},[l,i,a,o,s,r]}class ac extends Fe{constructor(e){super(),Ue(this,e,nc,tc,Xe,{data:5})}}export{ac as default};
